(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{371:function(t,e,s){t.exports=function(){"use strict";var t=6e4,e=36e5,s="millisecond",i="second",o="minute",r="hour",a="day",n="week",l="month",h="quarter",c="year",d="date",u="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],s=t%100;return"["+t+(e[(s-20)%10]||e[s]||e[0])+"]"}},f=function(t,e,s){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(s)+t},y={s:f,z:function(t){var e=-t.utcOffset(),s=Math.abs(e),i=Math.floor(s/60),o=s%60;return(e<=0?"+":"-")+f(i,2,"0")+":"+f(o,2,"0")},m:function t(e,s){if(e.date()<s.date())return-t(s,e);var i=12*(s.year()-e.year())+(s.month()-e.month()),o=e.clone().add(i,l),r=s-o<0,a=e.clone().add(i+(r?-1:1),l);return+(-(i+(s-o)/(r?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:c,w:n,d:a,D:d,h:r,m:o,s:i,ms:s,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",k={};k[w]=g;var v=function(t){return t instanceof $},x=function t(e,s,i){var o;if(!e)return w;if("string"==typeof e){var r=e.toLowerCase();k[r]&&(o=r),s&&(k[r]=s,o=r);var a=e.split("-");if(!o&&a.length>1)return t(a[0])}else{var n=e.name;k[n]=e,o=n}return!i&&o&&(w=o),o||!i&&w},b=function(t,e){if(v(t))return t.clone();var s="object"==typeof e?e:{};return s.date=t,s.args=arguments,new $(s)},_=y;_.l=x,_.i=v,_.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var $=function(){function g(t){this.$L=x(t.locale,null,!0),this.parse(t)}var f=g.prototype;return f.parse=function(t){this.$d=function(t){var e=t.date,s=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(p);if(i){var o=i[2]-1||0,r=(i[7]||"0").substring(0,3);return s?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},f.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},f.$utils=function(){return _},f.isValid=function(){return!(this.$d.toString()===u)},f.isSame=function(t,e){var s=b(t);return this.startOf(e)<=s&&s<=this.endOf(e)},f.isAfter=function(t,e){return b(t)<this.startOf(e)},f.isBefore=function(t,e){return this.endOf(e)<b(t)},f.$g=function(t,e,s){return _.u(t)?this[e]:this.set(s,t)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(t,e){var s=this,h=!!_.u(e)||e,u=_.p(t),p=function(t,e){var i=_.w(s.$u?Date.UTC(s.$y,e,t):new Date(s.$y,e,t),s);return h?i:i.endOf(a)},m=function(t,e){return _.w(s.toDate()[t].apply(s.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(e)),s)},g=this.$W,f=this.$M,y=this.$D,w="set"+(this.$u?"UTC":"");switch(u){case c:return h?p(1,0):p(31,11);case l:return h?p(1,f):p(0,f+1);case n:var k=this.$locale().weekStart||0,v=(g<k?g+7:g)-k;return p(h?y-v:y+(6-v),f);case a:case d:return m(w+"Hours",0);case r:return m(w+"Minutes",1);case o:return m(w+"Seconds",2);case i:return m(w+"Milliseconds",3);default:return this.clone()}},f.endOf=function(t){return this.startOf(t,!1)},f.$set=function(t,e){var n,h=_.p(t),u="set"+(this.$u?"UTC":""),p=(n={},n[a]=u+"Date",n[d]=u+"Date",n[l]=u+"Month",n[c]=u+"FullYear",n[r]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[s]=u+"Milliseconds",n)[h],m=h===a?this.$D+(e-this.$W):e;if(h===l||h===c){var g=this.clone().set(d,1);g.$d[p](m),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},f.set=function(t,e){return this.clone().$set(t,e)},f.get=function(t){return this[_.p(t)]()},f.add=function(s,h){var d,u=this;s=Number(s);var p=_.p(h),m=function(t){var e=b(u);return _.w(e.date(e.date()+Math.round(t*s)),u)};if(p===l)return this.set(l,this.$M+s);if(p===c)return this.set(c,this.$y+s);if(p===a)return m(1);if(p===n)return m(7);var g=(d={},d[o]=t,d[r]=e,d[i]=1e3,d)[p]||1,f=this.$d.getTime()+s*g;return _.w(f,this)},f.subtract=function(t,e){return this.add(-1*t,e)},f.format=function(t){var e=this,s=this.$locale();if(!this.isValid())return s.invalidDate||u;var i=t||"YYYY-MM-DDTHH:mm:ssZ",o=_.z(this),r=this.$H,a=this.$m,n=this.$M,l=s.weekdays,h=s.months,c=function(t,s,o,r){return t&&(t[s]||t(e,i))||o[s].slice(0,r)},d=function(t){return _.s(r%12||12,t,"0")},p=s.meridiem||function(t,e,s){var i=t<12?"AM":"PM";return s?i.toLowerCase():i},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:n+1,MM:_.s(n+1,2,"0"),MMM:c(s.monthsShort,n,h,3),MMMM:c(h,n),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:c(s.weekdaysMin,this.$W,l,2),ddd:c(s.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:_.s(r,2,"0"),h:d(1),hh:d(2),a:p(r,a,!0),A:p(r,a,!1),m:String(a),mm:_.s(a,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:o};return i.replace(m,(function(t,e){return e||g[t]||o.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(s,d,u){var p,m=_.p(d),g=b(s),f=(g.utcOffset()-this.utcOffset())*t,y=this-g,w=_.m(this,g);return w=(p={},p[c]=w/12,p[l]=w,p[h]=w/3,p[n]=(y-f)/6048e5,p[a]=(y-f)/864e5,p[r]=y/e,p[o]=y/t,p[i]=y/1e3,p)[m]||y,u?w:_.a(w)},f.daysInMonth=function(){return this.endOf(l).$D},f.$locale=function(){return k[this.$L]},f.locale=function(t,e){if(!t)return this.$L;var s=this.clone(),i=x(t,e,!0);return i&&(s.$L=i),s},f.clone=function(){return _.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},g}(),T=$.prototype;return b.prototype=T,[["$ms",s],["$s",i],["$m",o],["$H",r],["$W",a],["$M",l],["$y",c],["$D",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,$,b),t.$i=!0),b},b.locale=x,b.isDayjs=v,b.unix=function(t){return b(1e3*t)},b.en=k[w],b.Ls=k,b.p={},b}()},386:function(t,e,s){},387:function(t,e,s){},388:function(t,e,s){},389:function(t,e,s){},410:function(t,e,s){t.exports=function(){"use strict";var t,e,s=1e3,i=6e4,o=36e5,r=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,n=31536e6,l=2592e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:n,months:l,days:r,hours:o,minutes:i,seconds:s,milliseconds:1,weeks:6048e5},d=function(t){return t instanceof w},u=function(t,e,s){return new w(t,s,e.$l)},p=function(t){return e.p(t)+"s"},m=function(t){return t<0},g=function(t){return m(t)?Math.ceil(t):Math.floor(t)},f=function(t){return Math.abs(t)},y=function(t,e){return t?m(t)?{negative:!0,format:""+f(t)+e}:{negative:!1,format:""+t+e}:{negative:!1,format:""}},w=function(){function m(t,e,s){var i=this;if(this.$d={},this.$l=s,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return u(t*c[p(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(e){i.$d[p(e)]=t[e]})),this.calMilliseconds(),this;if("string"==typeof t){var o=t.match(h);if(o){var r=o.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var f=m.prototype;return f.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(e,s){return e+(t.$d[s]||0)*c[s]}),0)},f.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=g(t/n),t%=n,this.$d.months=g(t/l),t%=l,this.$d.days=g(t/r),t%=r,this.$d.hours=g(t/o),t%=o,this.$d.minutes=g(t/i),t%=i,this.$d.seconds=g(t/s),t%=s,this.$d.milliseconds=t},f.toISOString=function(){var t=y(this.$d.years,"Y"),e=y(this.$d.months,"M"),s=+this.$d.days||0;this.$d.weeks&&(s+=7*this.$d.weeks);var i=y(s,"D"),o=y(this.$d.hours,"H"),r=y(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var n=y(a,"S"),l=t.negative||e.negative||i.negative||o.negative||r.negative||n.negative,h=o.format||r.format||n.format?"T":"",c=(l?"-":"")+"P"+t.format+e.format+i.format+h+o.format+r.format+n.format;return"P"===c||"-P"===c?"P0D":c},f.toJSON=function(){return this.toISOString()},f.format=function(t){var s=t||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return s.replace(a,(function(t,e){return e||String(i[t])}))},f.as=function(t){return this.$ms/c[p(t)]},f.get=function(t){var e=this.$ms,s=p(t);return"milliseconds"===s?e%=1e3:e="weeks"===s?g(e/c[s]):this.$d[s],0===e?0:e},f.add=function(t,e,s){var i;return i=e?t*c[p(e)]:d(t)?t.$ms:u(t,this).$ms,u(this.$ms+i*(s?-1:1),this)},f.subtract=function(t,e){return this.add(t,e,!0)},f.locale=function(t){var e=this.clone();return e.$l=t,e},f.clone=function(){return u(this.$ms,this)},f.humanize=function(e){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},f.milliseconds=function(){return this.get("milliseconds")},f.asMilliseconds=function(){return this.as("milliseconds")},f.seconds=function(){return this.get("seconds")},f.asSeconds=function(){return this.as("seconds")},f.minutes=function(){return this.get("minutes")},f.asMinutes=function(){return this.as("minutes")},f.hours=function(){return this.get("hours")},f.asHours=function(){return this.as("hours")},f.days=function(){return this.get("days")},f.asDays=function(){return this.as("days")},f.weeks=function(){return this.get("weeks")},f.asWeeks=function(){return this.as("weeks")},f.months=function(){return this.get("months")},f.asMonths=function(){return this.as("months")},f.years=function(){return this.get("years")},f.asYears=function(){return this.as("years")},m}();return function(s,i,o){t=o,e=o().$utils(),o.duration=function(t,e){var s=o.locale();return u(t,{$l:s},e)},o.isDuration=d;var r=i.prototype.add,a=i.prototype.subtract;i.prototype.add=function(t,e){return d(t)&&(t=t.asMilliseconds()),r.bind(this)(t,e)},i.prototype.subtract=function(t,e){return d(t)&&(t=t.asMilliseconds()),a.bind(this)(t,e)}}}()},411:function(t,e,s){"use strict";s(386)},412:function(t,e,s){"use strict";s(387)},413:function(t,e,s){"use strict";s(388)},414:function(t,e,s){"use strict";s(389)},418:function(t,e,s){"use strict";s.r(e);s(160);var i=s(371),o=s.n(i),r=(s(161),s(0)),a={name:"Expander",inject:["root"],props:["tasks","options","type"],data:()=>({border:.5,borderStyle:{"stroke-width":.5},lineOffset:5}),computed:{style(){if("taskList"!==this.type)return{};const t=this.root.state.options.taskList.expander.margin;return{"padding-left":this.tasks[0].parents.length*this.root.state.options.taskList.expander.padding+t+"px",margin:"auto 0"}},allChildren(){const t=[];return this.tasks.forEach(e=>{e.allChildren.forEach(e=>{t.push(e)})}),t},collapsed(){if(0===this.tasks.length)return!1;let t=0;for(let e=0,s=this.tasks.length;e<s;e++)this.tasks[e].collapsed&&t++;return t===this.tasks.length}},methods:{getClassPrefix(t=!0){return`${t?"gantt-elastic__":""}${this.options.type}-expander`},toggle(){if(0===this.tasks.length)return;const t=!this.collapsed;this.tasks.forEach(e=>{e.collapsed=t})}}},n=s(30),l=Object(n.a)(a,(function(){var t=this,e=t._self._c;return e("div",{class:t.getClassPrefix()+"-wrapper",style:{...t.root.style[t.getClassPrefix(!1)+"-wrapper"],...t.style}},[t.allChildren.length?e("svg",{class:t.getClassPrefix()+"-content",style:{...t.root.style[t.getClassPrefix(!1)+"-content"]},attrs:{width:t.options.size,height:t.options.size},on:{click:function(e){return e.stopPropagation(),t.toggle.apply(null,arguments)}}},[e("rect",{class:t.getClassPrefix()+"-border",style:{...t.root.style[t.getClassPrefix(!1)+"-border"],...t.borderStyle},attrs:{x:t.border,y:t.border,width:t.options.size-2*t.border,height:t.options.size-2*t.border,rx:"2",ry:"2"}}),t._v(" "),t.allChildren.length?e("line",{class:t.getClassPrefix()+"-line",style:{...t.root.style[t.getClassPrefix(!1)+"-line"]},attrs:{x1:t.lineOffset,y1:t.options.size/2,x2:t.options.size-t.lineOffset,y2:t.options.size/2}}):t._e(),t._v(" "),t.collapsed?e("line",{class:t.getClassPrefix()+"-line",style:{...t.root.style[t.getClassPrefix(!1)+"-line"]},attrs:{x1:t.options.size/2,y1:t.lineOffset,x2:t.options.size/2,y2:t.options.size-t.lineOffset}}):t._e()]):t._e()])}),[],!1,null,null,null).exports,h={name:"TaskListHeader",components:{TaskListExpander:l},inject:["root"],data:()=>({resizer:{moving:!1,x:0}}),computed:{collapsible(){return this.root.state.tasks.filter(t=>t.allChildren.length>0)}},methods:{getStyle:t=>({width:t.finalWidth+"px"}),resizerMouseDown(t,e){this.resizer.moving||(this.resizer.moving=e,this.resizer.x=t.clientX,this.resizer.initialWidth=e.width,this.root.$emit("taskList-column-width-change-start",this.resizer.moving))},resizerMouseMove(t){if(this.resizer.moving){const e=this.resizer.moving.width;this.resizer.moving.width=this.resizer.initialWidth+t.clientX-this.resizer.x,this.resizer.moving.width<this.root.state.options.taskList.minWidth&&(this.resizer.moving.width=this.root.state.options.taskList.minWidth),e!==this.resizer.moving.width&&this.root.$emit("taskList-column-width-change",this.resizer.moving)}},resizerMouseUp(t){this.resizer.moving&&(this.root.$emit("taskList-column-width-change-stop",this.resizer.moving),this.resizer.moving=!1)}},created(){this.mouseUpListener=document.addEventListener("mouseup",this.resizerMouseUp.bind(this)),this.mouseMoveListener=document.addEventListener("mousemove",this.resizerMouseMove.bind(this)),this.root.$on("main-view-mousemove",this.resizerMouseMove),this.root.$on("main-view-mouseup",this.resizerMouseUp)},beforeDestroy(){document.removeEventListener("mouseup",this.resizerMouseUp),document.removeEventListener("mousemove",this.resizerMouseMove)}},c=Object(n.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"gantt-elastic__task-list-header",style:{...t.root.style["task-list-header"],height:t.root.state.options.calendar.height+"px","margin-bottom":t.root.state.options.calendar.gap+"px"}},t._l(t.root.getTaskListColumns,(function(s){return e("div",{key:s._id,staticClass:"gantt-elastic__task-list-header-column",style:{...t.root.style["task-list-header-column"],...s.style["task-list-header-column"],...t.getStyle(s)}},[s.expander?e("task-list-expander",{attrs:{tasks:t.collapsible,options:t.root.state.options.taskList.expander}}):t._e(),t._v(" "),e("div",{staticClass:"gantt-elastic__task-list-header-label",style:{...t.root.style["task-list-header-label"],...s.style["task-list-header-label"]},attrs:{column:s},on:{mouseup:t.resizerMouseUp}},[t._v("\n      "+t._s(s.label)+"\n    ")]),t._v(" "),e("div",{staticClass:"gantt-elastic__task-list-header-resizer-wrapper",style:{...t.root.style["task-list-header-resizer-wrapper"],...s.style["task-list-header-resizer-wrapper"]},attrs:{column:s},on:{mousedown:function(e){return t.resizerMouseDown(e,s)}}},[e("div",{staticClass:"gantt-elastic__task-list-header-resizer",style:{...t.root.style["task-list-header-resizer"],...s.style["task-list-header-resizer"]}},[e("div",{staticClass:"gantt-elastic__task-list-header-resizer-dot",style:{...t.root.style["task-list-header-resizer-dot"],...s.style["task-list-header-resizer-dot"]}}),t._v(" "),e("div",{staticClass:"gantt-elastic__task-list-header-resizer-dot",style:{...t.root.style["task-list-header-resizer-dot"],...s.style["task-list-header-resizer-dot"]}}),t._v(" "),e("div",{staticClass:"gantt-elastic__task-list-header-resizer-dot",style:{...t.root.style["task-list-header-resizer-dot"],...s.style["task-list-header-resizer-dot"]}})])])],1)})),0)}),[],!1,null,null,null).exports,d={name:"ItemColumn",inject:["root"],props:["column","task"],components:{taskListSlot:{name:"taskListSlot",functional:!0,inject:["root"],props:{column:{type:Object,default:null},task:{type:Object,default:null}},render:(t,e)=>t("div",{},e.injections.root.$scopedSlots[e.props.column.slot]({column:e.props.column,task:e.props.task}))}},data:()=>({}),mounted(){},methods:{emitEvent(t,e){void 0!==this.column.events&&"function"==typeof this.column.events[t]&&this.column.events[t]({event:e,data:this.task,column:this.column});const s={event:e,data:this.task,column:this.column},i=()=>{this.root.$emit("task-list-"+t,s),this.root.$emit(`task-list-${this.task.type}-${t}`,s)};switch(t){case"click":case"dblclick":clearTimeout(this._eventTriggerTime),this._eventTriggerTime=setTimeout(()=>{i()},300),"dblclick"===t&&(clearTimeout(this._eventTriggerTime),i());break;default:i()}}},computed:{html(){return void 0!==this.column.html&&!0===this.column.html},slot(){return!this.html&&"string"==typeof this.column.slot&&""!==this.column.slot},value(){return"function"==typeof this.column.value?this.column.value(this.task):this.task[this.column.value]},itemColumnStyle(){return{...this.root.style["task-list-item-column"],...this.column.style["task-list-item-column"],width:this.column.finalWidth+"px",height:this.column.height+"px"}},wrapperStyle(){return{...this.root.style["task-list-item-value-wrapper"],...this.column.style["task-list-item-value-wrapper"]}},containerStyle(){return{...this.root.style["task-list-item-value-container"],...this.column.style["task-list-item-value-container"]}},valueStyle(){return{...this.root.style["task-list-item-value"],...this.column.style["task-list-item-value"]}}}},u={name:"TaskListItem",components:{TaskListExpander:l,ItemColumn:Object(n.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"gantt-elastic__task-list-item-column",style:t.itemColumnStyle},[e("div",{staticClass:"gantt-elastic__task-list-item-value-wrapper",style:t.wrapperStyle,on:{click:function(e){return t.emitEvent("click",e)},dblclick:function(e){return t.emitEvent("dblclick",e)},mouseenter:function(e){return t.emitEvent("mouseenter",e)},mouseover:function(e){return t.emitEvent("mouseover",e)},mouseout:function(e){return t.emitEvent("mouseout",e)},mousemove:function(e){return t.emitEvent("mousemove",e)},mousedown:function(e){return t.emitEvent("mousedown",e)},mouseup:function(e){return t.emitEvent("mouseup",e)},mousewheel:function(e){return t.emitEvent("mousewheel",e)},touchstart:function(e){return t.emitEvent("touchstart",e)},touchmove:function(e){return t.emitEvent("touchmove",e)},touchend:function(e){return t.emitEvent("touchend",e)}}},[t._t("default"),t._v(" "),e("div",{staticClass:"gantt-elastic__task-list-item-value-container",style:t.containerStyle},[t.slot?e("div",{staticClass:"gantt-elastic__task-list-item-value",style:t.valueStyle},[e("taskListSlot",{attrs:{column:t.column,task:t.task}})],1):t.html?e("div",{staticClass:"gantt-elastic__task-list-item-value",style:t.valueStyle,domProps:{innerHTML:t._s(t.value)}}):e("div",{staticClass:"gantt-elastic__task-list-item-value",style:t.valueStyle},[t._v("\n        "+t._s(t.value)+"\n      ")])])],2)])}),[],!1,null,null,null).exports},inject:["root"],props:["task"],data:()=>({}),computed:{columns(){return this.root.state.options.taskList.columns}}},p={name:"TaskList",components:{TaskListHeader:c,TaskListItem:Object(n.a)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"gantt-elastic__task-list-item",style:{...t.root.style["task-list-item"]}},t._l(t.columns,(function(s){return e("item-column",{key:s._id,attrs:{column:s,task:t.task}},[s.expander?e("task-list-expander",{attrs:{tasks:[t.task],options:t.root.state.options.taskList.expander,type:"taskList"}}):t._e()],1)})),1)}),[],!1,null,null,null).exports},inject:["root"],data:()=>({}),mounted(){this.root.state.refs.taskListWrapper=this.$refs.taskListWrapper,this.root.state.refs.taskList=this.$refs.taskList,this.root.state.refs.taskListItems=this.$refs.taskListItems}},m=Object(n.a)(p,(function(){var t=this._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.root.state.options.taskList.display,expression:"root.state.options.taskList.display"}],ref:"taskListWrapper",staticClass:"gantt-elastic__task-list-wrapper",style:{...this.root.style["task-list-wrapper"],width:"100%",height:"100%"}},[t("div",{ref:"taskList",staticClass:"gantt-elastic__task-list",style:{...this.root.style["task-list"]}},[t("task-list-header"),this._v(" "),t("div",{ref:"taskListItems",staticClass:"gantt-elastic__task-list-items",style:{...this.root.style["task-list-items"],height:this.root.state.options.rowsHeight+"px"}},this._l(this.root.visibleTasks,(function(e){return t("task-list-item",{key:e.id,attrs:{task:e}})})),1)],1)])}),[],!1,null,null,null).exports,g={name:"Grid",inject:["root"],data:()=>({}),created(){this.root.$on("recenterPosition",this.recenterPosition)},mounted(){this.$nextTick(()=>{this.$nextTick(()=>{this.root.scrollToTime(this.timeLinePosition.time)})})},methods:{recenterPosition(){this.root.scrollToTime(this.timeLinePosition.time)}},computed:{verticalLines(){let t=[];const e=this.root.state;return e.options.times.steps.forEach(s=>{this.root.isInsideViewPort(s.offset.px,1)&&t.push({key:s.time,x1:s.offset.px,y1:0,x2:s.offset.px,y2:e.tasks.length*(e.options.row.height+2*e.options.chart.grid.horizontal.gap)+this.root.style["grid-line-vertical"]["stroke-width"]})}),t},horizontalLines(){let t=[];const e=this.root.state.options;for(let s=0,i=this.root.visibleTasks.length;s<=i;s++){const i=s*(e.row.height+2*e.chart.grid.horizontal.gap)+this.root.style["grid-line-vertical"]["stroke-width"]/2;t.push({key:"hl"+s,x1:0,y1:i,x2:"100%",y2:i})}return t},inViewPort(){return t=>{const e=this.root.state.options;return t.x1>=e.scroll.chart.left&&t.x1<=e.scroll.chart.right}},timeLinePosition(){const t=new Date,e=t.getTime(),s=this.root.timeToPixelOffsetX(e),i={x:0,y1:0,y2:"100%",dateTime:"",time:e};return i.x=s,i.dateTime=t.toLocaleDateString(),i}}},f=Object(n.a)(g,(function(){var t=this,e=t._self._c;return e("svg",{ref:"chart",staticClass:"gantt-elastic__grid-lines-wrapper",style:{...t.root.style["grid-lines-wrapper"]},attrs:{x:"0",y:"0",width:t.root.state.options.width,height:t.root.state.options.allVisibleTasksHeight,xmlns:"http://www.w3.org/2000/svg"}},[e("g",{staticClass:"gantt-elastic__grid-lines",style:{...t.root.style["grid-lines"]}},[t._l(t.horizontalLines,(function(s){return e("line",{key:s.key,staticClass:"gantt-elastic__grid-line-horizontal",style:{...t.root.style["grid-line-horizontal"]},attrs:{x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2}})})),t._v(" "),t._l(t.verticalLines,(function(s){return e("line",{key:s.key,staticClass:"gantt-elastic__grid-line-vertical",style:{...t.root.style["grid-line-vertical"]},attrs:{x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2}})})),t._v(" "),e("line",{staticClass:"gantt-elastic__grid-line-time",style:{...t.root.style["grid-line-time"]},attrs:{x1:t.timeLinePosition.x,y1:t.timeLinePosition.y1,x2:t.timeLinePosition.x,y2:t.timeLinePosition.y2}})],2)])}),[],!1,null,null,null).exports,y={name:"DaysHighlight",inject:["root"],data:()=>({}),methods:{getKey:t=>o()(t.time).format("YYYY-MM-DD")},computed:{workingDays(){return this.root.state.options.times.steps.filter(t=>-1===this.root.state.options.calendar.workingDays.indexOf(o()(t.time).day()))},showWorkingDays(){const t=this.root.state.options.calendar;return!(void 0===t.workingDays||!Array.isArray(t.workingDays)||!t.workingDays.length)}}},w=Object(n.a)(y,(function(){var t=this,e=t._self._c;return t.showWorkingDays?e("g",{staticClass:"gantt-elastic__chart-days-highlight-container",style:{...t.root.style["chart-days-highlight-container"]}},t._l(t.workingDays,(function(s){return e("rect",{key:t.getKey(s),staticClass:"gantt-elastic__chart-days-highlight-rect",style:{...t.root.style["chart-days-highlight-rect"]},attrs:{x:s.offset.px,y:"0",width:s.width.px,height:"100%"}})})),0):t._e()}),[],!1,null,null,null).exports,k={name:"CalendarRow",inject:["root"],props:["items","which"],data:()=>({}),methods:{getTextX(t){let e=t.x+t.width/2-t.textWidth/2;if("month"===this.which&&this.root.isInsideViewPort(t.x,t.width,0)){let s=this.root.state.options.scroll.chart.right-this.root.state.options.scroll.chart.left;e=this.root.state.options.scroll.chart.left+s/2-t.textWidth/2+2,e+t.textWidth+2>t.x+t.width?e=t.x+t.width-t.textWidth-2:e<t.x&&(e=t.x+2)}return e-t.x}},computed:{rowStyle(){return{...this.root.style["calendar-row"],...this.root.style["calendar-row--"+this.which]}},rectStyle(){return{...this.root.style["calendar-row-rect"],...this.root.style["calendar-row-rect--"+this.which]}},rectChildStyle(){const t={...this.root.style["calendar-row-rect-child"],...this.root.style["calendar-row-rect-child--"+this.which]},e=[];for(let s of this.items){const i=[];for(let e of s.children)i.push({...t,width:e.width+"px",height:e.height+"px"});e.push(i)}return e},textStyle(){const t={...this.root.style["calendar-row-text"],...this.root.style["calendar-row-text--"+this.which]};return e=>{const s={...t};return"month"===this.which&&(s.left=this.getTextX(e)+"px"),s}}}},v={name:"Calendar",components:{CalendarRow:Object(n.a)(k,(function(){var t=this,e=t._self._c;return e("div",{class:"gantt-elastic__calendar-row gantt-elastic__calendar-row--"+t.which,style:t.rowStyle},t._l(t.items,(function(s,i){return e("div",{key:s.key,class:"gantt-elastic__calendar-row-rect gantt-elastic__calendar-row-rect--"+t.which,style:t.rectStyle},t._l(s.children,(function(s,o){return e("div",{key:s.key,class:"gantt-elastic__calendar-row-rect-child gantt-elastic__calendar-row-rect-child--"+t.which,style:t.rectChildStyle[i][o]},[e("div",{class:"gantt-elastic__calendar-row-text gantt-elastic__calendar-row-text--"+t.which,style:t.textStyle(s)},[t._v("\n        "+t._s(s.label)+"\n      ")])])})),0)})),0)}),[],!1,null,null,null).exports},inject:["root"],data:()=>({}),methods:{howManyHoursFit(t){let e=this.root.state.options.times.steps[t].width.px,s=Object.keys(this.root.state.options.calendar.hour.format);for(let t=24;t>1;t=Math.ceil(t/2))for(let i of s)if((this.root.state.options.calendar.hour.maxWidths[i]+3)*t<=e&&t>1)return{count:t,type:i};return{count:0,type:""}},howManyDaysFit(){let t=this.root.state.options.width,e=Object.keys(this.root.state.options.calendar.day.format);for(let s=this.root.state.options.times.steps.length;s>1;s=Math.ceil(s/2))for(let i of e)if((this.root.state.options.calendar.day.maxWidths[i]+3)*s<=t&&s>1)return{count:s,type:i};return{count:0,type:""}},howManyMonthsFit(){let t=this.root.state.options.width,e=Object.keys(this.root.state.options.calendar.month.format);o()(this.root.state.options.times.firstTime).clone();this.root.state.options.times.lastTime;let s=this.root.monthsCount(this.root.state.options.times.firstTime,this.root.state.options.times.lastTime);if(1===s)for(let s of e)if(this.root.state.options.calendar.month.maxWidths[s]+3<=t)return{count:1,type:s};for(let i=s;i>1;i=Math.ceil(i/2))for(let s of e)if((this.root.state.options.calendar.month.maxWidths[s]+3)*i<=t&&i>1)return{count:i,type:s};return{count:0,type:e[0]}},generateHours(){let t=[];if(!this.root.state.options.calendar.hour.display)return t;const e=this.root.state.options.times.steps;this.root.state.options.locale.name;for(let s=0,i=e.length;s<i;s++){const i=this.howManyHoursFit(s);if(0===i.count)continue;const o={key:s+"step",children:[]},r=24/i.count,a=e[s].width.px/i.count;for(let t=0,n=i.count;t<n;t++){const n=t*r;let l=s;s>0&&(l=s-24*Math.floor(s/24));let h=0;void 0!==this.root.state.options.calendar.hour.widths[l]&&(h=this.root.state.options.calendar.hour.widths[l][i.type]);let c=e[s].offset.px+a*t;o.children.push({index:s,key:"h"+t,x:c,y:this.root.state.options.calendar.day.height+this.root.state.options.calendar.month.height,width:a,textWidth:h,height:this.root.state.options.calendar.hour.height,label:this.root.state.options.calendar.hour.formatted[i.type][n]})}t.push(o)}return t},generateDays(){let t=[];if(!this.root.state.options.calendar.day.display)return t;const e=this.howManyDaysFit();if(0===e.count)return t;const s=this.root.state.options.times.steps,i=this.root.state.options.locale.name,r=Math.ceil(s.length/e.count);for(let a=0,n=s.length;a<n;a+=r){let n=0;for(let t=0;t<r;t++)void 0!==s[a+t]&&(n+=s[a+t].width.px);const l=o()(s[a].time);let h=0;void 0!==this.root.state.options.calendar.day.widths[a]&&(h=this.root.state.options.calendar.day.widths[a][e.type]);let c=s[a].offset.px;t.push({index:a,key:s[a].time+"d",x:c,y:this.root.state.options.calendar.month.height,width:n,textWidth:h,height:this.root.state.options.calendar.day.height,label:this.root.state.options.calendar.day.format[e.type](l.locale(i))})}return t.map(t=>({key:t.key,children:[t]}))},generateMonths(){let t=[];if(!this.root.state.options.calendar.month.display)return t;const e=this.howManyMonthsFit();if(0===e.count)return t;this.root.state.options.times.steps;const s=this.root.state.options.locale.name;let i=Object.keys(this.root.state.options.calendar.month.format),r=o()(this.root.state.options.times.firstTime);for(let a=0;a<e.count;a++){let e=0,n=Number.MAX_SAFE_INTEGER,l=o()(r).add(1,"month").startOf("month");l.valueOf()>this.root.state.options.times.lastTime&&(l=o()(this.root.state.options.times.lastTime));for(let t=0,s=this.root.state.options.times.steps.length;t<s;t++){let s=this.root.state.options.times.steps[t];s.time>=r.valueOf()&&s.time<l.valueOf()&&(e+=s.width.px,s.offset.px<n&&(n=s.offset.px))}let h,c="";for(let t of i)this.root.state.options.calendar.month.maxWidths[t]+2<=e&&(c=this.root.state.options.calendar.month.format[t](r.locale(s)),h=t);let d=0;void 0!==this.root.state.options.calendar.month.widths[a]&&(d=this.root.state.options.calendar.month.widths[a][h]);let u=n;t.push({index:a,key:a+"m",x:u,y:0,width:e,textWidth:d,choosenFormatName:h,height:this.root.state.options.calendar.month.height,label:c}),r=r.add(1,"month").startOf("month"),r.valueOf()>this.root.state.options.times.lastTime&&(r=o()(this.root.state.options.times.lastTime))}return t.map(t=>({key:t.key,children:[t]}))},calculateCalendarDimensions({hours:t,days:e,months:s}){let i=0;this.root.state.options.calendar.hour.display&&t.length>0&&(i+=this.root.state.options.calendar.hour.height),this.root.state.options.calendar.day.display&&e.length>0&&(i+=this.root.state.options.calendar.day.height),this.root.state.options.calendar.month.display&&s.length>0&&(i+=this.root.state.options.calendar.month.height),this.root.state.options.calendar.height=i}},computed:{dates(){const t={hours:this.generateHours(),days:this.generateDays(),months:this.generateMonths()};return this.calculateCalendarDimensions(t),t}}},x=Object(n.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"gantt-elastic__calendar-wrapper",style:{...t.root.style["calendar-wrapper"],width:t.root.state.options.width+"px"}},[e("div",{staticClass:"gantt-elastic__calendar",style:{...t.root.style.calendar,width:t.root.state.options.width+"px"}},[t.root.state.options.calendar.month.display?e("calendar-row",{attrs:{items:t.dates.months,which:"month"}}):t._e(),t._v(" "),t.root.state.options.calendar.day.display?e("calendar-row",{attrs:{items:t.dates.days,which:"day"}}):t._e(),t._v(" "),t.root.state.options.calendar.hour.display?e("calendar-row",{attrs:{items:t.dates.hours,which:"hour"}}):t._e()],1)])}),[],!1,null,null,null).exports,b={name:"DependencyLines",inject:["root"],props:["tasks"],data:()=>({}),methods:{getPoints(t,e){const s=this.root.getTask(t),i=this.root.getTask(e);if(null===s||null===i||!this.root.isTaskVisible(i)||!this.root.isTaskVisible(s))return null;const o=s.x+s.width,r=s.y+s.height/2,a=i.x,n=i.y+i.height/2,l=a-o;let h,c=1;n>=r?h=n-r:(h=r-n,c=-1);let d=`M ${o} ${r}\n          L ${o+10},${r} `;return d+=l<=14?`Q ${o+10+4},${r} ${o+10+4},${r+4*c}\n            L ${o+10+4},${r+h*c/2-4*c}\n            Q ${o+10+4},${r+h*c/2} ${o+10},${r+h*c/2}\n            L ${o-10+l},${r+h*c/2}\n            Q ${o-10+l-4},${r+h*c/2} ${o-10+l-4},${r+h*c/2+4*c}\n            L ${o-10+l-4},${n-4*c}\n            Q ${o-10+l-4},${n} ${o-10+l},${n}\n            L ${a},${n}`:`L ${o+l/2-4},${r}\n            Q ${o+l/2},${r} ${o+l/2},${r+4*c}\n            L ${o+l/2},${n-4*c}\n            Q ${o+l/2},${n} ${o+l/2+4},${n}\n            L ${a},${n}`,d}},computed:{dependencyTasks(){return this.tasks.filter(t=>void 0!==t.dependentOn).map(t=>(t.dependencyLines=t.dependentOn.map(e=>({points:this.getPoints(e,t.id),task_id:e})),t)).filter(t=>null!==t.dependencyLines.points)}}},_=Object(n.a)(b,(function(){var t=this,e=t._self._c;return e("svg",{staticClass:"gantt-elastic__chart-dependency-lines-container",style:{...t.root.style["chart-dependency-lines-container"]},attrs:{x:"0",y:"0",width:"100%",height:"100%"}},t._l(t.dependencyTasks,(function(s){return e("g",{key:s.id,attrs:{task:s}},t._l(s.dependencyLines,(function(i){return e("path",{key:i.id,staticClass:"gantt-elastic__chart-dependency-lines-path",style:{...t.root.style["chart-dependency-lines-path"],...s.style["chart-dependency-lines-path"],...s.style["chart-dependency-lines-path-"+i.task_id]},attrs:{task:s,d:i.points}})})),0)})),0)}),[],!1,null,null,null).exports,$={name:"ChartText",inject:["root"],props:["task"],data:()=>({}),computed:{getWidth(){const t=this.root.style["chart-row-text"];this.root.state.ctx.font=`${t["font-weight"]} ${t["font-size"]} ${t["font-family"]}`;return this.root.state.ctx.measureText(this.task.label).width+2*this.root.state.options.chart.text.xPadding},getHeight(){return this.task.height+2*this.root.state.options.chart.grid.horizontal.gap},contentStyle(){return{height:"100%","line-height":this.getHeight+"px"}},html(){const t=this.root.state.options.taskList.columns;for(let e=0,s=t.length;e<s;e++){const s=t[e];if("label"===s.value&&void 0!==s.html&&s.html)return!0}return!1}}},T=(s(411),Object(n.a)($,(function(){var t=this,e=t._self._c;return e("svg",{staticClass:"gantt-elastic__chart-row-text-wrapper",style:{...t.root.style["chart-row-text-wrapper"]},attrs:{x:t.task.x+t.task.width+t.root.state.options.chart.text.offset,y:t.task.y-t.root.state.options.chart.grid.horizontal.gap,width:t.getWidth,height:t.getHeight}},[e("foreignObject",{attrs:{x:"0",y:"0",width:"100%",height:t.getHeight}},[e("div",{staticClass:"gantt-elastic__chart-row-text",style:{...t.root.style["chart-row-text"]},attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t.html?t._e():e("div",{staticClass:"gantt-elastic__chart-row-text-content gantt-elastic__chart-row-text-content--text",style:{...t.root.style["chart-row-text-content"],...t.root.style["chart-row-text-content--text"],...t.contentStyle}},[e("div",[t._v(t._s(t.task.label))])]),t._v(" "),t.html?e("div",{staticClass:"gantt-elastic__chart-row-text-content gantt-elastic__chart-row-text-content--html",style:{...t.root.style["chart-row-text-content"],...t.root.style["chart-row-text-content--html"],...t.contentStyle},domProps:{innerHTML:t._s(t.task.label)}}):t._e()])])])}),[],!1,null,"26409f00",null).exports),C={name:"ProgressBar",inject:["root"],props:["task"],data:()=>({resize:{moving:!1,moveEvent:{offsetX:0,clientX:0}}}),computed:{getProgressWidth(){return this.task.progress+"%"},getLinePoints(){const t=this.task.width/100*this.task.progress;return`M ${t} 0 L ${t} ${this.task.height}`},getSolidStyle(){return Object.assign({},this.root.state.options.chart.progress.styles.bar.solid,this.task.progressBarStyle.bar)},getLineStyle(){return Object.assign({},{stroke:this.root.state.options.row.styles.bar.stroke+"a0","stroke-width":this.root.state.options.row.styles.bar["stroke-width"]/2},this.task.style)},getOutlineStyle(){return Object.assign({},this.root.style["chart-row-progress-bar-outline"],this.task.style.base,this.task.style["chart-row-progress-bar-outline"])}},watch:{"resize.moving":{handler(t){document.body.style.cursor=t?"w-resize":"auto"}}},created(){document.addEventListener("mousemove",this.resizerMouseMove.bind(this)),document.addEventListener("mouseup",this.resizerMouseup.bind(this))},beforeDestroy(){document.removeEventListener("mouseover",this.resizerMouseMove),document.removeEventListener("mouseup",this.resizerMouseup)},methods:{resizerMouseDown(t){this.resize.moving||(this.resize.moving=!0,this.resize.x=t.clientX)},resizerMouseup(t){this.resize.moving=!1;const{moveEvent:e}=this.resize;e.offsetX=0,e.clientX=0},resizerMouseMove(t){if(this.resize.moving){const{moveEvent:e}=this.resize;e.offsetX||(e.offsetX=t.offsetX,e.clientX=t.clientX);let s=(e.offsetX+(t.clientX-(e.clientX||t.clientX))-this.task.x)/this.task.width*100;if(100===s)return;if(0===s)return;s=s>=100?100:s<=0?0:s,s=s.toFixed(0),this.root.updateTask(this.task.id,{progress:s})}}}},M=(s(412),Object(n.a)(C,(function(){var t=this,e=t._self._c;return e("g",{staticClass:"gantt-elastic__chart-row-progress-bar-wrapper",style:{...t.root.style["chart-row-progress-bar-wrapper"],...t.task.style["chart-row-progress-bar-wrapper"]}},[e("defs",[e("pattern",{attrs:{id:"diagonalHatch",width:t.root.state.options.chart.progress.width,height:t.root.state.options.chart.progress.width,patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"}},[e("line",{staticClass:"chart-row-progress-bar-line",style:{...t.root.style["chart-row-progress-bar-line"],...t.task.style["chart-row-progress-bar-line"]},attrs:{x1:"0",y1:"0",x2:"0",y2:t.root.state.options.chart.progress.width}})])]),t._v(" "),t.root.state.options.chart.progress.bar?e("rect",{staticClass:"gantt-elastic__chart-row-progress-bar-solid",style:{...t.root.style["chart-row-progress-bar-solid"],...t.task.style["chart-row-progress-bar-solid"]},attrs:{x:"0",y:"0",width:t.getProgressWidth}}):t._e(),t._v(" "),t.root.state.options.chart.progress.pattern?e("g",[e("rect",{staticClass:"gantt-elastic__chart-row-progress-bar-pattern",style:{...t.root.style["chart-row-progress-bar-pattern"],...t.task.style["chart-row-progress-bar-pattern"]},attrs:{x:t.getProgressWidth,y:"0",width:100-t.task.progress+"%",height:"100%"}}),t._v(" "),e("path",{staticClass:"gantt-elastic__chart-row-progress-bar-outline",style:{...t.root.style["chart-row-progress-bar-outline"],...t.task.style.base,...t.task.style["chart-row-progress-bar-outline"],"--stroke-width":t.getOutlineStyle["stroke-width"]},attrs:{d:t.getLinePoints},on:{mousedown:function(e){return e.stopPropagation(),t.resizerMouseDown.apply(null,arguments)},mouseup:function(e){return e.stopPropagation(),t.resizerMouseup.apply(null,arguments)}}})]):t._e()])}),[],!1,null,null,null).exports),L={data:()=>({circleOffset:5,circle:{show:!1,r:6,offset:7},connectLine:{moving:!1,x1:0,y1:0,x2:0,y2:0}}),computed:{getViewBox(){const t=this.task;return`0 0 ${t.width} ${t.height}`},getGroupTransform(){return`translate(${this.task.x} ${this.task.y})`},displayExpander(){const t=this.root.state.options.chart.expander;return t.display||t.displayIfTaskListHidden&&!this.root.state.options.taskList.display},getStartCircle(){const{task:t,circle:e}=this;return{x:0-e.offset,y:t.height/2}},getEndCircle(){const{task:t,circle:e}=this;return{x:t.width+e.offset,y:t.height/2}},getCircleShow(){return this.circle.show||this.connectLine.moving},getCircleStyle(){return{stroke:"rgba(0, 119, 192, 1)",fill:"rgba(0, 119, 192, 1)",opacity:this.getCircleShow?"1":"0"}}},mounted(){document.addEventListener("mousemove",this.onMouseMove.bind(this)),document.addEventListener("mouseup",this.onMouseup.bind(this))},beforeDestroy(){document.removeEventListener("mouseup",this.onMouseup),document.removeEventListener("mousemove",this.onMouseMove)},methods:{emitEvent(t,e){if(!this.root.state.options.scroll.scrolling){const s={event:e,data:this.task},i=()=>{this.root.$emit("chart-task-"+t,s),this.root.$emit(`chart-task-${this.task.type}-${t}`,s)};switch(t){case"click":case"dblclick":clearTimeout(this._eventTriggerTime),this._eventTriggerTime=setTimeout(()=>{i()},300),"dblclick"===t&&(clearTimeout(this._eventTriggerTime),i());break;case"mouseenter":this.setCircleShow(),i();break;case"mouseleave":this.setCircleHidden(),i();break;default:i()}}},setCircleShow(){this.circle.show=!0},setCircleHidden(){this.circle.show=!1},onMouseDown(t,e){if(!this.connectLine.moving){this.circle.show=!0;const t=this.task,{setConnectLine:s}=this.root.state.connectLine;this.circle.show=!0,this.connectLine.moving=!0,this.connectLine.x1=t.x+e.x,this.connectLine.y1=t.y+e.y,s({startId:t.id})}},onMouseup(t){if(this.connectLine.moving){const e=this.getTaskIdByNode(t.target),{getConnectingLine:s,setConnectLine:i,delConnectLine:o}=this.root.state.connectLine,{startId:r}=s();i({endId:e}),o(),this.connectLine.moving=!1,e!=r&&this.root.updateTask(e,{dependentOn:[r]})}},onMouseMove(t){if(this.connectLine.moving){const{setConnectLine:e}=this.root.state.connectLine,s=t.offsetX>this.connectLine.x1?-2:2;this.connectLine.x2=t.offsetX+s,this.connectLine.y2=t.offsetY+s,e(this.connectLine)}},getTaskIdByNode(t){const e=t.parentNode;if(e&&e.dataset){const{taskid:t}=e.dataset;return t||this.getTaskIdByNode(e)}}}},S={name:"Task",components:{ChartText:T,ProgressBar:M,Expander:l},inject:["root"],props:["task"],mixins:[L],data:()=>({}),computed:{clipPathId(){return"gantt-elastic__task-clip-path-"+this.task.id},getPoints(){const t=this.task;return`0,0 ${t.width},0 ${t.width},${t.height} 0,${t.height}`}},methods:{}},O={name:"Milestone",components:{ChartText:T,ProgressBar:M,Expander:l},inject:["root"],props:["task"],mixins:[L],data:()=>({}),computed:{clipPathId(){return"gantt-elastic__milestone-clip-path-"+this.task.id},getPoints(){const t=this.task,e=t.height/2;let s=e;return t.width/2-s<0&&(s=t.width/2),`0,${e}\n        ${s},0\n        ${t.width-s},0\n        ${t.width},${e}\n        ${t.width-s},${t.height}\n        ${s},${t.height}`}}},z={name:"Project",components:{ChartText:T,ProgressBar:M,Expander:l},inject:["root"],props:["task"],mixins:[L],data:()=>({}),computed:{clipPathId(){return"gantt-elastic__project-clip-path-"+this.task.id},getPoints(){const t=this.task,e=t.height-t.height/4,s=t.height/6,i=t.height/8;return`M ${i},0\n                L ${t.width-i} 0\n                L ${t.width} ${i}\n                L ${t.width} ${e}\n                L ${t.width-s} ${t.height}\n                L ${t.width-2*s} ${e}\n                L ${2*s} ${e}\n                L ${s} ${t.height}\n                L 0 ${e}\n                L 0 ${i}\n                Z\n        `},displayExpander(){const t=this.root.state.options.chart.expander;return t.display||t.displayIfTaskListHidden&&!this.root.state.options.taskList.display}}},D={name:"Chart",components:{Grid:f,DependencyLines:_,Calendar:x,Task:Object(n.a)(S,(function(){var t=this,e=t._self._c;return e("g",{staticClass:"gantt-elastic__chart-row-bar-wrapper gantt-elastic__chart-row-task-wrapper",style:{...t.root.style["chart-row-bar-wrapper"],...t.root.style["chart-row-task-wrapper"],...t.task.style["chart-row-bar-wrapper"]}},[t.displayExpander?e("foreignObject",{staticClass:"gantt-elastic__chart-expander gantt-elastic__chart-expander--task",style:{...t.root.style["chart-expander"],...t.root.style["chart-expander--task"],...t.task.style["chart-expander"]},attrs:{x:t.task.x-t.root.state.options.chart.expander.offset-t.root.state.options.chart.expander.size,y:t.task.y+(t.root.state.options.row.height-t.root.state.options.chart.expander.size)/2,width:t.root.state.options.chart.expander.size,height:t.root.state.options.chart.expander.size}},[e("expander",{attrs:{tasks:[t.task],options:t.root.state.options.chart.expander,type:"chart"}})],1):t._e(),t._v(" "),t.root.state.options.chart.text.display?e("chart-text",{attrs:{task:t.task}}):t._e(),t._v(" "),e("svg",{staticClass:"gantt-elastic__chart-row-bar gantt-elastic__chart-row-task",style:{...t.root.style["chart-row-bar"],...t.root.style["chart-row-task"],...t.task.style["chart-row-bar"]},attrs:{x:t.task.x,y:t.task.y,width:t.task.width,height:t.task.height,viewBox:`0 0 ${t.task.width} ${t.task.height}`,xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.emitEvent("click",e)},dblclick:function(e){return t.emitEvent("dblclick",e)},mouseenter:function(e){return t.emitEvent("mouseenter",e)},mouseleave:function(e){return t.emitEvent("mouseleave",e)},mouseover:function(e){return t.emitEvent("mouseover",e)},mouseout:function(e){return t.emitEvent("mouseout",e)},mousemove:function(e){return t.emitEvent("mousemove",e)},mousedown:function(e){return t.emitEvent("mousedown",e)},mouseup:function(e){return t.emitEvent("mouseup",e)},mousewheel:function(e){return t.emitEvent("mousewheel",e)},touchstart:function(e){return t.emitEvent("touchstart",e)},touchmove:function(e){return t.emitEvent("touchmove",e)},touchend:function(e){return t.emitEvent("touchend",e)}}},[e("defs",[e("clipPath",{attrs:{id:t.clipPathId}},[e("polygon",{attrs:{points:t.getPoints}})])]),t._v(" "),e("polygon",{staticClass:"gantt-elastic__chart-row-bar-polygon gantt-elastic__chart-row-task-polygon",style:{...t.root.style["chart-row-bar-polygon"],...t.root.style["chart-row-task-polygon"],...t.task.style.base,...t.task.style["chart-row-bar-polygon"]},attrs:{points:t.getPoints,"data-taskid":t.task.id}}),t._v(" "),e("circle",{staticClass:"gantt-elastic__chart-row-bar-circle",style:t.getCircleStyle,attrs:{cx:t.getStartCircle.x,cy:t.getStartCircle.y,r:t.circle.r},on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,t.getStartCircle)}}}),t._v(" "),e("circle",{staticClass:"gantt-elastic__chart-row-bar-circle",style:t.getCircleStyle,attrs:{cx:t.getEndCircle.x,cy:t.getEndCircle.y,r:t.circle.r},on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,t.getEndCircle)}}}),t._v(" "),e("progress-bar",{attrs:{task:t.task,"clip-path":"url(#"+t.clipPathId+")"}})],1)],1)}),[],!1,null,null,null).exports,Milestone:Object(n.a)(O,(function(){var t=this,e=t._self._c;return e("g",{staticClass:"gantt-elastic__chart-row-bar-wrapper gantt-elastic__chart-row-milestone-wrapper",style:{...t.root.style["chart-row-bar-wrapper"],...t.root.style["chart-row-milestone-wrapper"],...t.task.style["chart-row-bar-wrapper"]}},[t.displayExpander?e("foreignObject",{staticClass:"gantt-elastic__chart-expander gantt-elastic__chart-expander--milestone",style:{...t.root.style["chart-expander"],...t.root.style["chart-expander--milestone"],...t.task.style["chart-expander"]},attrs:{x:t.task.x-t.root.state.options.chart.expander.offset-t.root.state.options.chart.expander.size,y:t.task.y+(t.root.state.options.row.height-t.root.state.options.chart.expander.size)/2,width:t.root.state.options.chart.expander.size,height:t.root.state.options.chart.expander.size}},[e("expander",{attrs:{tasks:[t.task],options:t.root.state.options.chart.expander,type:"chart"}})],1):t._e(),t._v(" "),t.root.state.options.chart.text.display?e("chart-text",{attrs:{task:t.task}}):t._e(),t._v(" "),e("svg",{staticClass:"gantt-elastic__chart-row-bar gantt-elastic__chart-row-milestone",style:{...t.root.style["chart-row-bar"],...t.root.style["chart-row-milestone"],...t.task.style["chart-row-bar"]},attrs:{x:t.task.x,y:t.task.y,width:t.task.width,height:t.task.height,viewBox:`0 0 ${t.task.width} ${t.task.height}`,xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.emitEvent("click",e)},dblclick:function(e){return t.emitEvent("dblclick",e)},mouseenter:function(e){return t.emitEvent("mouseenter",e)},mouseleave:function(e){return t.emitEvent("mouseleave",e)},mouseover:function(e){return t.emitEvent("mouseover",e)},mouseout:function(e){return t.emitEvent("mouseout",e)},mousemove:function(e){return t.emitEvent("mousemove",e)},mousedown:function(e){return t.emitEvent("mousedown",e)},mouseup:function(e){return t.emitEvent("mouseup",e)},mousewheel:function(e){return t.emitEvent("mousewheel",e)},touchstart:function(e){return t.emitEvent("touchstart",e)},touchmove:function(e){return t.emitEvent("touchmove",e)},touchend:function(e){return t.emitEvent("touchend",e)}}},[e("defs",[e("clipPath",{attrs:{id:t.clipPathId}},[e("polygon",{attrs:{points:t.getPoints}})])]),t._v(" "),e("polygon",{staticClass:"gantt-elastic__chart-row-bar-polygon gantt-elastic__chart-row-milestone-polygon",style:{...t.root.style["chart-row-bar-polygon"],...t.root.style["chart-row-milestone-polygon"],...t.task.style.base,...t.task.style["chart-row-bar-polygon"]},attrs:{points:t.getPoints}}),t._v(" "),e("circle",{staticClass:"gantt-elastic__chart-row-bar-circle",style:t.getCircleStyle,attrs:{cx:t.getStartCircle.x,cy:t.getStartCircle.y,r:t.circle.r},on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,t.getStartCircle)}}}),t._v(" "),e("circle",{staticClass:"gantt-elastic__chart-row-bar-circle",style:t.getCircleStyle,attrs:{cx:t.getEndCircle.x,cy:t.getEndCircle.y,r:t.circle.r},on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,t.getEndCircle)}}}),t._v(" "),e("progress-bar",{attrs:{task:t.task,"clip-path":"url(#"+t.clipPathId+")"}})],1)],1)}),[],!1,null,null,null).exports,Project:Object(n.a)(z,(function(){var t=this,e=t._self._c;return e("g",{staticClass:"gantt-elastic__chart-row-bar-wrapper gantt-elastic__chart-row-project-wrapper",style:{...t.root.style["chart-row-bar-wrapper"],...t.root.style["chart-row-project-wrapper"],...t.task.style["chart-row-bar-wrapper"]}},[t.displayExpander?e("foreignObject",{staticClass:"gantt-elastic__chart-expander gantt-elastic__chart-expander--project",style:{...t.root.style["chart-expander"],...t.root.style["chart-expander--project"],...t.task.style["chart-expander"]},attrs:{x:t.task.x-t.root.state.options.chart.expander.offset-t.root.state.options.chart.expander.size,y:t.task.y+(t.root.state.options.row.height-t.root.state.options.chart.expander.size)/2,width:t.root.state.options.chart.expander.size,height:t.root.state.options.chart.expander.size}},[e("expander",{attrs:{tasks:[t.task],options:t.root.state.options.chart.expander,type:"chart"}})],1):t._e(),t._v(" "),t.root.state.options.chart.text.display?e("chart-text",{attrs:{task:t.task}}):t._e(),t._v(" "),e("svg",{staticClass:"gantt-elastic__chart-row-bar gantt-elastic__chart-row-project",style:{...t.root.style["chart-row-bar"],...t.root.style["chart-row-project"],...t.task.style["chart-row-bar"]},attrs:{x:t.task.x,y:t.task.y,width:t.task.width,height:t.task.height,viewBox:`0 0 ${t.task.width} ${t.task.height}`,xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.emitEvent("click",e)},dblclick:function(e){return t.emitEvent("dblclick",e)},mouseenter:function(e){return t.emitEvent("mouseenter",e)},mouseleave:function(e){return t.emitEvent("mouseleave",e)},mouseover:function(e){return t.emitEvent("mouseover",e)},mouseout:function(e){return t.emitEvent("mouseout",e)},mousemove:function(e){return t.emitEvent("mousemove",e)},mousedown:function(e){return t.emitEvent("mousedown",e)},mouseup:function(e){return t.emitEvent("mouseup",e)},mousewheel:function(e){return t.emitEvent("mousewheel",e)},touchstart:function(e){return t.emitEvent("touchstart",e)},touchmove:function(e){return t.emitEvent("touchmove",e)},touchend:function(e){return t.emitEvent("touchend",e)}}},[e("defs",[e("clipPath",{attrs:{id:t.clipPathId}},[e("path",{attrs:{d:t.getPoints}})])]),t._v(" "),e("path",{staticClass:"gantt-elastic__chart-row-bar-polygon gantt-elastic__chart-row-project-polygon",style:{...t.root.style["chart-row-bar-polygon"],...t.root.style["chart-row-project-polygon"],...t.task.style.base,...t.task.style["chart-row-bar-polygon"]},attrs:{d:t.getPoints}}),t._v(" "),e("circle",{staticClass:"gantt-elastic__chart-row-bar-circle",style:t.getCircleStyle,attrs:{cx:t.getStartCircle.x,cy:t.getStartCircle.y,r:t.circle.r},on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,t.getStartCircle)}}}),t._v(" "),e("circle",{staticClass:"gantt-elastic__chart-row-bar-circle",style:t.getCircleStyle,attrs:{cx:t.getEndCircle.x,cy:t.getEndCircle.y,r:t.circle.r},on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,t.getEndCircle)}}}),t._v(" "),e("progress-bar",{attrs:{task:t.task,"clip-path":"url(#"+t.clipPathId+")"}})],1)],1)}),[],!1,null,null,null).exports,DaysHighlight:w},inject:["root"],data:()=>({moving:!1,connectingLine:{show:!1,startId:"",endId:"",x1:0,y1:0,x2:0,y2:0}}),mounted(){this.root.state.refs.chart=this.$refs.chart,this.root.state.refs.chartCalendarContainer=this.$refs.chartCalendarContainer,this.root.state.refs.chartGraphContainer=this.$refs.chartGraphContainer,this.root.state.refs.chartGraph=this.$refs.chartGraph,this.root.state.refs.chartGraphSvg=this.$refs.chartGraphSvg,this.root.state.connectLine={setConnectLine:this.setConnectLine,getConnectingLine:this.getConnectingLine,delConnectLine:this.delConnectLine}},beforeDestroy(){},computed:{getViewBox(){return`0 0 ${this.root.state.options.width} ${this.root.state.options.allVisibleTasksHeight}`},getContLine(){const{x1:t,y1:e,x2:s,y2:i}=this.connectingLine;return{x1:t,y1:e,x2:s,y2:i}}},methods:{setConnectLine(t){this.connectingLine.show=!0,Object.keys(t).forEach(e=>{this.$set(this.connectingLine,e,t[e])})},delConnectLine(){this.connectingLine.show=!1,this.connectingLine=Object.assign(this.connectingLine,{startId:"",endId:"",x1:0,y1:0,x2:0,y2:0})},getConnectingLine(){return this.connectingLine}}};s(413);var P={name:"MainView",components:{TaskList:m,Chart:Object(n.a)(D,(function(){var t=this,e=t._self._c;return e("div",{ref:"chart",staticClass:"gantt-elastic__chart",style:{...t.root.style.chart}},[e("div",{ref:"chartCalendarContainer",staticClass:"gantt-elastic__chart-calendar-container",style:{...t.root.style["chart-calendar-container"],height:t.root.state.options.calendar.height+"px","margin-bottom":t.root.state.options.calendar.gap+"px"}},[e("calendar")],1),t._v(" "),e("div",{ref:"chartGraphContainer",staticClass:"gantt-elastic__chart-graph-container",style:{...t.root.style["chart-graph-container"],height:t.root.state.options.height-t.root.state.options.calendar.height+"px"}},[e("div",{style:{...t.root.style["chart-area"],width:t.root.state.options.width+"px",height:t.root.state.options.rowsHeight+"px"}},[e("div",{ref:"chartGraph",staticClass:"gantt-elastic__chart-graph",style:{...t.root.style["chart-graph"],height:"100%"}},[e("svg",{ref:"chartGraphSvg",staticClass:"gantt-elastic__chart-graph-svg",style:{...t.root.style["chart-graph-svg"]},attrs:{x:"0",y:"0",width:t.root.state.options.width+"px",height:t.root.state.options.allVisibleTasksHeight+"px",xmlns:"http://www.w3.org/2000/svg"}},[e("days-highlight"),t._v(" "),e("grid"),t._v(" "),e("dependency-lines",{attrs:{tasks:t.root.visibleTasks}}),t._v(" "),t._l(t.root.visibleTasks,(function(s){return e("g",{key:s.id,staticClass:"gantt-elastic__chart-row-wrapper",style:{...t.root.style["chart-row-wrapper"]},attrs:{task:s,"data-taskid":s.id}},[e(s.type,{tag:"component",attrs:{task:s}})],1)})),t._v(" "),e("line",t._b({directives:[{name:"show",rawName:"v-show",value:t.connectingLine.show,expression:"connectingLine.show"}],staticStyle:{stroke:"rgba(0, 119, 192, 0.5)","stroke-width":"4"}},"line",t.getContLine,!1))],2)])])])])}),[],!1,null,null,null).exports},inject:["root"],data:()=>({defs:"",mousePos:{x:0,y:0,movementX:0,movementY:0,lastX:0,lastY:0,positiveX:0,positiveY:0,currentX:0,currentY:0}}),mounted(){this.viewBoxWidth=this.$el.clientWidth,this.root.state.refs.mainView=this.$refs.mainView,this.root.state.refs.chartContainer=this.$refs.chartContainer,this.root.state.refs.taskList=this.$refs.taskList,this.root.state.refs.chartScrollContainerHorizontal=this.$refs.chartScrollContainerHorizontal,this.root.state.refs.chartScrollContainerVertical=this.$refs.chartScrollContainerVertical,document.addEventListener("mouseup",this.chartMouseUp.bind(this)),document.addEventListener("mousemove",this.chartMouseMove.bind(this)),document.addEventListener("touchmove",this.chartMouseMove.bind(this)),document.addEventListener("touchend",this.chartMouseUp.bind(this))},computed:{getMarginLeft(){return this.root.state.options.taskList.display?this.root.state.options.taskList.finalWidth+"px":"0px"},verticalStyle(){return{width:this.root.state.options.scrollBarHeight+"px",height:this.root.state.options.rowsHeight+"px","margin-top":this.root.state.options.calendar.height+this.root.state.options.calendar.gap+"px"}},getViewBox(){return this.root.state.options.clientWidth?`0 0 ${this.root.state.options.clientWidth-this.root.state.options.scrollBarHeight} ${this.root.state.options.height}`:"0 0 0 "+this.root.state.options.height}},methods:{mouseMove(t){this.root.$emit("main-view-mousemove",t)},mouseUp(t){this.root.$emit("main-view-mouseup",t)},onHorizontalScroll(t){this.root.$emit("chart-scroll-horizontal",t)},onVerticalScroll(t){this.root.$emit("chart-scroll-vertical",t)},chartWheel(t){this.root.$emit("chart-wheel",t)},chartMouseDown(t){void 0!==t.touches&&(this.mousePos.x=this.mousePos.lastX=t.touches[0].screenX,this.mousePos.y=this.mousePos.lastY=t.touches[0].screenY,this.mousePos.movementX=0,this.mousePos.movementY=0,this.mousePos.currentX=this.$refs.chartScrollContainerHorizontal.scrollLeft,this.mousePos.currentY=this.$refs.chartScrollContainerVertical.scrollTop),this.root.state.options.scroll.scrolling=!0},chartMouseUp(t){this.root.state.options.scroll.scrolling=!1},chartMouseMove(t){if(this.root.state.options.scroll.scrolling){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation();const e=void 0!==t.touches;let s,i;if(e){const e=t.touches[0].screenX,o=t.touches[0].screenY;s=this.mousePos.x-e,i=this.mousePos.y-o,this.mousePos.lastX=e,this.mousePos.lastY=o}else s=t.movementX,i=t.movementY;const o=this.$refs.chartScrollContainerHorizontal,r=this.$refs.chartScrollContainerVertical;let a=0,n=0;a=e?this.mousePos.currentX+s*this.root.state.options.scroll.dragXMoveMultiplier:o.scrollLeft-s*this.root.state.options.scroll.dragXMoveMultiplier,o.scrollLeft=a,n=e?this.mousePos.currentY+i*this.root.state.options.scroll.dragYMoveMultiplier:r.scrollTop-i*this.root.state.options.scroll.dragYMoveMultiplier,r.scrollTop=n}}},beforeDestroy(){document.removeEventListener("mouseup",this.chartMouseUp),document.removeEventListener("mousemove",this.chartMouseMove),document.removeEventListener("touchmove",this.chartMouseMove),document.removeEventListener("touchend",this.chartMouseUp)}},E=Object(n.a)(P,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"gantt-elastic__main-view",style:{...t.root.style["main-view"]}},[e("div",{staticClass:"gantt-elastic__main-container-wrapper",style:{...t.root.style["main-container-wrapper"],height:t.root.state.options.height+"px"}},[e("div",{ref:"mainView",staticClass:"gantt-elastic__main-container",style:{...t.root.style["main-container"],width:t.root.state.options.clientWidth+"px",height:t.root.state.options.height+"px"}},[e("div",{staticClass:"gantt-elastic__container",style:{...t.root.style.container},on:{mousemove:t.mouseMove,mouseup:t.mouseUp}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.root.state.options.taskList.display,expression:"root.state.options.taskList.display"}],ref:"taskList",staticClass:"gantt-elastic__task-list-container",style:{...t.root.style["task-list-container"],width:t.root.state.options.taskList.finalWidth+"px",height:t.root.state.options.height+"px"}},[e("task-list")],1),t._v(" "),e("div",{ref:"chartContainer",staticClass:"gantt-elastic__main-view-container",style:{...t.root.style["main-view-container"]},on:{mousedown:t.chartMouseDown,touchstart:t.chartMouseDown,mouseup:t.chartMouseUp,touchend:t.chartMouseUp,mousemove:function(e){return e.preventDefault(),t.chartMouseMove.apply(null,arguments)},touchmove:function(e){return e.preventDefault(),t.chartMouseMove.apply(null,arguments)},wheel:function(e){return e.preventDefault(),t.chartWheel.apply(null,arguments)}}},[e("chart")],1)])]),t._v(" "),e("div",{ref:"chartScrollContainerVertical",staticClass:"gantt-elastic__chart-scroll-container gantt-elastic__chart-scroll-container--vertical",style:{...t.root.style["chart-scroll-container"],...t.root.style["chart-scroll-container--vertical"],...t.verticalStyle},on:{scroll:t.onVerticalScroll}},[e("div",{staticClass:"gantt-elastic__chart-scroll--vertical",style:{width:"1px",height:t.root.state.options.allVisibleTasksHeight+"px"}})])]),t._v(" "),e("div",{ref:"chartScrollContainerHorizontal",staticClass:"gantt-elastic__chart-scroll-container gantt-elastic__chart-scroll-container--horizontal",style:{...t.root.style["chart-scroll-container"],...t.root.style["chart-scroll-container--horizontal"],marginLeft:t.getMarginLeft},on:{scroll:t.onHorizontalScroll}},[e("div",{staticClass:"gantt-elastic__chart-scroll--horizontal",style:{height:"1px",width:t.root.state.options.width+"px"}})])])}),[],!1,null,null,null).exports;var H=s(164);const W=document.createElement("canvas").getContext("2d");let j=r.default;"undefined"!=typeof Vue&&void 0===j&&(j=Vue);function Y(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!(t instanceof HTMLElement)&&!(t instanceof CanvasRenderingContext2D)&&"function"!=typeof t}function I(t,...e){if(!e.length)return t;const s=e.shift();if(Y(t)&&Y(s))for(const e in s)if(Y(s[e]))void 0===t[e]&&(t[e]={}),t[e]=I(t[e],s[e]);else if(Array.isArray(s[e])){t[e]=[];for(let i of s[e])Y(i)?t[e].push(I({},i)):t[e].push(i)}else t[e]=s[e];return I(t,...e)}function A(t,e,s=[],i=""){if(typeof e!=typeof t)return{left:t,right:e,what:i+".typeof"};if(Array.isArray(t)&&!Array.isArray(e))return{left:t,right:e,what:i+".isArray"};if(Array.isArray(e)&&!Array.isArray(t))return{left:t,right:e,what:i+".isArray"};if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{left:t,right:e,what:i+".length"};let o;for(let r=0,a=t.length;r<a;r++)if(o=A(t[r],e[r],s,i+"."+r))return o}else{if(Y(t)&&!Y(e))return{left:t,right:e,what:i+".isObject"};if(Y(e)&&!Y(t))return{left:t,right:e,what:i+".isObject"};if(Y(t)&&Y(e))for(let o in t){if(!t.hasOwnProperty(o)||!t.propertyIsEnumerable(o))continue;if(!e.hasOwnProperty(o))return{left:t,right:e,what:i+"."+o};let r;if(r=A(t[o],e[o],s,i+"."+o))return r}else if(t!==e)return{left:t,right:e,what:i+". !=="}}return!1}var F={name:"GanttElastic",components:{MainView:E},props:["tasks","options","dynamicStyle"],provide(){const t={},e=this;return Object.defineProperty(t,"root",{enumerable:!0,get:()=>e}),t},data:()=>({state:{tasks:[],options:{scrollBarHeight:0,allVisibleTasksHeight:0,outerHeight:0,scroll:{left:0,top:0}},dynamicStyle:{},refs:{},tasksById:{},taskTree:{},ctx:W,emitTasksChanges:!0,emitOptionsChanges:!0,resizeObserver:null,unwatchTasks:null,unwatchOptions:null,unwatchStyle:null,unwatchOutputTasks:null,unwatchOutputOptions:null,unwatchOutputStyle:null,parentNode:null},controlLongPress:!1}),methods:{mergeDeep:I,mergeDeepReactive:function t(e,s,...i){if(!i.length)return s;const o=i.shift();if(Y(s)&&Y(o))for(const i in o)Y(o[i])?(void 0===s[i]&&e.$set(s,i,{}),t(e,s[i],o[i])):Array.isArray(o[i])?e.$set(s,i,o[i]):"function"==typeof o[i]?-1===o[i].toString().indexOf("[native code]")&&(s[i]=o[i]):e.$set(s,i,o[i]);return t(e,s,...i)},getScrollBarHeight(){const t=document.createElement("div");t.style.visibility="hidden",t.style.height="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetHeight;t.style.overflow="scroll";var s=document.createElement("div");s.style.height="100%",t.appendChild(s);var i=s.offsetHeight;t.parentNode.removeChild(t);const o=e-i;return this.style["chart-scroll-container--vertical"]["margin-left"]=`-${o}px`,this.state.options.scrollBarHeight=o},fillTasks(t){for(let e of t)void 0===e.x&&(e.x=0),void 0===e.y&&(e.y=0),void 0===e.width&&(e.width=0),void 0===e.height&&(e.height=0),void 0===e.mouseOver&&(e.mouseOver=!1),void 0===e.collapsed&&(e.collapsed=!1),void 0===e.dependentOn&&(e.dependentOn=[]),void 0===e.parentId&&(e.parentId=null),void 0===e.style&&(e.style={}),void 0===e.children&&(e.children=[]),void 0===e.allChildren&&(e.allChildren=[]),void 0===e.parents&&(e.parents=[]),void 0===e.parent&&(e.parent=null),void 0===e.startTime&&(e.startTime=o()(e.start).valueOf()),void 0===e.endTime&&e.hasOwnProperty("end")?e.endTime=o()(e.end).valueOf():void 0===e.endTime&&e.hasOwnProperty("duration")&&(e.endTime=e.startTime+e.duration),void 0===e.duration&&e.hasOwnProperty("endTime")&&(e.duration=e.endTime-e.startTime);return t},mapTasks(t,e){for(let[s,i]of t.entries())t[s]={...i,id:i[e.taskMapping.id],start:i[e.taskMapping.start],label:i[e.taskMapping.label],duration:i[e.taskMapping.duration],progress:i[e.taskMapping.progress],type:i[e.taskMapping.type],style:i[e.taskMapping.style],collapsed:i[e.taskMapping.collapsed]};return t},initialize(t=""){let e=I({},this.state.options,function(t){let e="en";return void 0!==t.locale&&void 0!==t.locale.name&&(e=t.locale.name),{slots:{header:{}},taskMapping:{id:"id",start:"start",label:"label",duration:"duration",progress:"progress",type:"type",style:"style",collapsed:"collapsed"},width:0,height:0,clientWidth:0,outerHeight:0,rowsHeight:0,allVisibleTasksHeight:0,scroll:{scrolling:!1,dragXMoveMultiplier:3,dragYMoveMultiplier:2,top:0,taskList:{left:0,right:0,top:0,bottom:0},chart:{left:0,right:0,percent:0,timePercent:0,top:0,bottom:0,time:0,timeCenter:0,dateTime:{left:"",right:""}}},scope:{before:1,after:1},times:{timeScale:6e4,timeZoom:17,timePerPixel:0,firstTime:null,lastTime:null,firstTaskTime:0,lastTaskTime:0,totalViewDurationMs:0,totalViewDurationPx:0,stepDuration:"day",steps:[]},row:{height:24},maxRows:20,maxHeight:0,chart:{grid:{horizontal:{gap:6}},progress:{width:20,height:6,pattern:!0,bar:!1},text:{offset:4,xPadding:10,display:!0},expander:{type:"chart",display:!1,displayIfTaskListHidden:!0,offset:12,size:18}},taskList:{display:!0,resizeAfterThreshold:!0,widthThreshold:75,columns:[{id:0,label:"ID",value:"id",width:40}],percent:100,width:0,finalWidth:0,widthFromPercentage:0,minWidth:18,expander:{type:"task-list",size:16,columnWidth:24,padding:16,margin:10,straight:!1}},calendar:{workingDays:[1,2,3,4,5],gap:6,height:0,strokeWidth:1,hour:{height:20,display:!0,widths:[],maxWidths:{short:0,medium:0,long:0},formatted:{long:[],medium:[],short:[]},format:{long:t=>t.format("HH:mm"),medium:t=>t.format("HH:mm"),short:t=>t.format("HH")}},day:{height:20,display:!0,widths:[],maxWidths:{short:0,medium:0,long:0},format:{long:t=>t.format("DD dddd"),medium:t=>t.format("DD ddd"),short:t=>t.format("DD")}},month:{height:20,display:!0,widths:[],maxWidths:{short:0,medium:0,long:0},format:{short:t=>t.format("MM"),medium:t=>t.format("MMM 'YY"),long:t=>t.format("MMMM YYYY")}}},locale:{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_Marc1h_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:t=>{const e=["th","st","nd","rd"],s=t%100;return`[${t}${e[(s-20)%10]||e[s]||e[0]}]`}}}}(this.options),this.options),s=this.mapTasks(this.tasks,e);0===Object.keys(this.state.dynamicStyle).length&&this.initializeStyle(),o.a.locale(e.locale,null,!0),o.a.locale(e.locale.name),void 0===e.taskList&&(e.taskList={}),e.taskList.columns=e.taskList.columns.map((t,e)=>(t.thresholdPercent=100,t.widthFromPercentage=0,t.finalWidth=0,void 0===t.height&&(t.height=0),void 0===t.style&&(t.style={}),t._id=`${e}-${t.label}`,t)),this.state.options=e,s=this.fillTasks(s),this.state.tasksById=this.resetTaskTree(s),this.state.taskTree=this.makeTaskTree(this.state.rootTask,s),this.state.tasks=this.state.taskTree.allChildren.map(t=>this.getTask(t)),this.calculateTaskListColumnsDimensions(),this.state.options.scrollBarHeight=this.getScrollBarHeight(),this.state.options.outerHeight=this.state.options.height+this.state.options.scrollBarHeight,this.globalOnResize()},initializeStyle(){this.state.dynamicStyle=I({},function(t){let e="12px",s=window.getComputedStyle(document.body).getPropertyValue("font-family").toString();return void 0!==t&&(void 0!==t.fontSize&&(e=t.fontSize),void 0!==t.fontFamily&&(s=t.fontFamily)),
/**
 * @fileoverview Styles for gantt-elastic
 * @license MIT
 * @author Rafal Pospiech <neuronet.io@gmail.com>
 * @package GanttElastic
 */
function(t="12px",e="Arial, sans-serif"){return{fontSize:t,fontFamily:e,"main-view":{background:"#FFFFFF"},"main-container-wrapper":{overflow:"hidden","border-top":"1px solid #eee","border-bottom":"1px solid #eee"},"main-container":{float:"left","max-width":"100%"},"main-view-container":{},container:{display:"flex","max-width":"100%",height:"100%"},"calendar-wrapper":{"user-select":"none"},calendar:{width:"100%",background:"#f3f5f7",display:"block"},"calendar-row":{display:"flex","justify-content":"space-evenly"},"calendar-row--month":{},"calendar-row--day":{},"calendar-row--hour":{"border-bottom":"1px solid #eee"},"calendar-row-rect":{background:"transparent",display:"flex"},"calendar-row-rect--month":{},"calendar-row-rect--day":{},"calendar-row-rect--hour":{},"calendar-row-rect-child":{display:"block","border-right-width":"1px","border-right-color":"#dadada","border-right-style":"solid",position:"relative"},"calendar-row-rect-child--month":{},"calendar-row-rect-child--day":{"text-align":"center"},"calendar-row-rect-child--hour":{"text-align":"center"},"calendar-row-text":{"font-family":e,"font-size":t,color:"#606060",display:"inline-block",position:"relative"},"calendar-row-text--month":{},"calendar-row-text--day":{},"calendar-row-text--hour":{},"task-list-wrapper":{},"task-list":{background:"transparent","border-color":"#eee"},"task-list-header":{display:"flex","user-select":"none","vertical-align":"middle","border-bottom":"1px solid #eee","border-left":"1px solid #eee"},"task-list-header-column":{"border-left":"1px solid #00000050","box-sizing":"border-box",display:"flex",background:"#f3f5f7","border-color":"transparent"},"task-list-expander-wrapper":{display:"inline-flex","flex-shrink":"0","box-sizing":"border-box",margin:"0 0 0 10px"},"task-list-expander-content":{display:"inline-flex",cursor:"pointer",margin:"auto 0px","box-sizing":"border-box","user-select":"none"},"task-list-expander-line":{fill:"transparent",stroke:"#000000","stroke-width":"1","stroke-linecap":"round"},"task-list-expander-border":{fill:"#ffffffa0",stroke:"#000000A0"},"chart-expander-wrapper":{display:"block","line-height":"1","box-sizing":"border-box",margin:"0"},"chart-expander-content":{display:"inline-flex",cursor:"pointer",margin:"auto 0px","box-sizing":"border-box","user-select":"none"},"chart-expander-line":{fill:"transparent",stroke:"#000000","stroke-width":"1","stroke-linecap":"round"},"chart-expander-border":{fill:"#ffffffa0",stroke:"#000000A0"},"task-list-container":{},"task-list-header-label":{overflow:"hidden","text-overflow":"ellipsis","font-family":e,"font-size":t,"box-sizing":"border-box",margin:"auto 6px","flex-grow":"1","vertical-align":"middle"},"task-list-header-resizer-wrapper":{background:"transparent",height:"100%",width:"6px",cursor:"col-resize",display:"inline-flex","vertical-align":"center"},"task-list-header-resizer":{margin:"auto 0px"},"task-list-header-resizer-dot":{width:"3px",height:"3px",background:"#ddd","border-radius":"100%",margin:"4px 0px"},"task-list-items":{overflow:"hidden"},"task-list-item":{"border-top":"1px solid #eee","border-right":"1px solid #eee","box-sizing":"border-box",display:"flex",background:"transparent"},"task-list-item-column":{display:"inline-flex","flex-shrink":"0","border-left":"1px solid #00000050","box-sizing":"border-box","border-color":"#eee"},"task-list-item-value-wrapper":{overflow:"hidden",display:"flex",width:"100%"},"task-list-item-value-container":{margin:"auto 0px",overflow:"hidden"},"task-list-item-value":{display:"block","flex-shrink":"100","font-family":e,"font-size":t,"margin-top":"auto","margin-bottom":"auto","margin-left":"6px","margin-right":"6px",overflow:"hidden","text-overflow":"ellipsis","line-height":"1.5em","word-break":"keep-all","white-space":"nowrap",color:"#606060",background:"#FFFFFF"},"grid-lines":{},"grid-line-horizontal":{stroke:"#00000010","stroke-width":1},"grid-line-vertical":{stroke:"#00000010","stroke-width":1},"grid-line-time":{stroke:"#FF000080","stroke-width":1},chart:{"user-select":"none",overflow:"hidden"},"chart-calendar-container":{"user-select":"none",overflow:"hidden","max-width":"100%","border-right":"1px solid #eee"},"chart-graph-container":{"user-select":"none",overflow:"hidden","max-width":"100%","border-right":"1px solid #eee"},"chart-area":{},"chart-graph":{overflow:"hidden"},"chart-row-text-wrapper":{},"chart-row-text":{background:"#ffffffa0","border-radius":"10px","font-family":e,"font-size":t,"font-weight":"normal",color:"#000000a0",height:"100%",display:"inline-block"},"chart-row-text-content":{padding:"0px 6px"},"chart-row-text-content--text":{},"chart-row-text-content--html":{},"chart-row-wrapper":{},"chart-row-bar-wrapper":{},"chart-row-bar":{},"chart-row-bar-polygon":{stroke:"#E74C3C","stroke-width":1,fill:"#F75C4C"},"chart-row-project-wrapper":{},"chart-row-project":{},"chart-row-project-polygon":{},"chart-row-milestone-wrapper":{},"chart-row-milestone":{},"chart-row-milestone-polygon":{},"chart-row-task-wrapper":{},"chart-row-task":{},"chart-row-task-polygon":{},"chart-row-progress-bar-wrapper":{},"chart-row-progress-bar":{},"chart-row-progress-bar-line":{stroke:"#ffffff25","stroke-width":20},"chart-row-progress-bar-solid":{fill:"#0EAC51",height:"20%"},"chart-row-progress-bar-pattern":{fill:"url(#diagonalHatch)",transform:"translateY(0.1) scaleY(0.8)"},"chart-row-progress-bar-outline":{stroke:"#E74C3C","stroke-width":4},"chart-dependency-lines-wrapper":{},"chart-dependency-lines-path":{fill:"transparent",stroke:"#FFa00090","stroke-width":2},"chart-scroll-container":{},"chart-scroll-container--horizontal":{overflow:"auto","max-width":"100%"},"chart-scroll-container--vertical":{"overflow-y":"auto","overflow-x":"hidden","max-height":"100%",float:"right"},"chart-days-highlight-rect":{fill:"#f3f5f780"},"slot-header-beforeOptions":{display:"inline-block"}}}(e,s)}(this.dynamicStyle),this.dynamicStyle)},getCalendarHeight(){return this.state.options.calendar.height+this.state.options.calendar.strokeWidth},getMaximalLevel(){let t=0;return this.state.tasks.forEach(e=>{e.parents.length>t&&(t=e.parents.length)}),t-1},getMaximalExpanderWidth(){return this.getMaximalLevel()*this.state.options.taskList.expander.padding+this.state.options.taskList.expander.margin},syncScrollTop(){this.state.refs.taskListItems&&this.state.refs.chartGraph.scrollTop!==this.state.refs.taskListItems.scrollTop&&(this.state.options.scroll.top=this.state.refs.taskListItems.scrollTop=this.state.refs.chartScrollContainerVertical.scrollTop=this.state.refs.chartGraph.scrollTop)},calculateTaskListColumnsDimensions(){let t=0,e=0;for(let s of this.state.options.taskList.columns)s.expander?s.widthFromPercentage=(this.getMaximalExpanderWidth()+s.width)/100*this.state.options.taskList.percent:s.widthFromPercentage=s.width/100*this.state.options.taskList.percent,e+=s.widthFromPercentage,s.finalWidth=s.thresholdPercent*s.widthFromPercentage/100,t+=s.finalWidth,s.height=this.getTaskHeight()-this.style["grid-line-horizontal"]["stroke-width"];this.state.options.taskList.widthFromPercentage=e,this.state.options.taskList.finalWidth=t},resetTaskTree(t){this.$set(this.state,"rootTask",{id:null,label:"root",children:[],allChildren:[],parents:[],parent:null,__root:!0});const e={};for(let s=0,i=t.length;s<i;s++){let i=t[s];i.children=[],i.allChildren=[],i.parent=null,i.parents=[],e[i.id]=i}return e},makeTaskTree(t,e){for(let s=0,i=e.length;s<i;s++){let i=e[s];i.parentId===t.id&&(t.parents.length&&t.parents.forEach(t=>i.parents.push(t)),t.propertyIsEnumerable("__root")?(i.parents=[],i.parent=null):(i.parents.push(t.id),i.parent=t.id),i=this.makeTaskTree(i,e),t.allChildren.push(i.id),t.children.push(i.id),i.allChildren.forEach(e=>t.allChildren.push(e)))}return t},goCurrentTime(){this.$emit("recenterPosition")},getTask(t){return void 0!==this.state.tasksById[t]?this.state.tasksById[t]:null},getTaskMapping(){return this.state.options.taskMapping},updateTask(t,e){if(!t)return;let s=this.getTask(t);return Object.keys(e).forEach(t=>{["id","start","startTime","end","endTime"].includes(t)||"object"==typeof s&&s.hasOwnProperty("__ob__")&&void 0!==s[t]&&(s[t]=e[t])}),s},updateTaskTime(t,e,s){if(!t)return;let i=this.getTask(t);i.startTime=e,i.start=e,i.endTime=s,i.end=s,i.duration=i.endTime-i.startTime},getChildren(t){return this.state.tasks.filter(e=>e.parent===t)},isTaskVisible(t){"number"!=typeof t&&"string"!=typeof t||(t=this.getTask(t));for(let e=0,s=t.parents.length;e<s;e++)if(this.getTask(t.parents[e]).collapsed)return!1;return!0},getSVG(){return this.state.options.mainView.outerHTML},getImage(t="image/png"){return new Promise(e=>{const s=new Image;s.onload=()=>{const i=document.createElement("canvas");i.width=this.state.options.mainView.clientWidth,i.height=this.state.options.rowsHeight,i.getContext("2d").drawImage(s,0,0),e(i.toDataURL(t))},s.src="data:image/svg+xml,"+encodeURIComponent(this.getSVG())})},getHeight(t,e=!1){let s=t.length*(this.state.options.row.height+2*this.state.options.chart.grid.horizontal.gap)+this.state.options.calendar.height+this.state.options.calendar.strokeWidth+this.state.options.calendar.gap;return e&&(s+=this.state.options.scrollBarHeight),s},getTaskHeight(t=!1){return t?this.state.options.row.height+2*this.state.options.chart.grid.horizontal.gap+this.style["grid-line-horizontal"]["stroke-width"]:this.state.options.row.height+2*this.state.options.chart.grid.horizontal.gap},getTasksHeight(t){return t.length*this.getTaskHeight()},timeToPixelOffsetX(t){let e=t-this.state.options.times.firstTime;return e&&(e/=this.state.options.times.timePerPixel),e},pixelOffsetXToTime(t){return(t+this.style["grid-line-vertical"]["stroke-width"]/2)*this.state.options.times.timePerPixel+this.state.options.times.firstTime},isInsideViewPort(t,e,s=5e3){return t+e+s>=this.state.options.scroll.chart.left&&t-s<=this.state.options.scroll.chart.right||t-s<=this.state.options.scroll.chart.left&&t+e+s>=this.state.options.scroll.chart.right},onScrollChart(t){this._onScrollChart(this.state.refs.chartScrollContainerHorizontal.scrollLeft,this.state.refs.chartScrollContainerVertical.scrollTop)},_onScrollChart(t,e){if(this.state.options.scroll.chart.left===t&&this.state.options.scroll.chart.top===e)return;const s=this.state.refs.chartContainer.clientWidth;this.state.options.scroll.chart.left=t,this.state.options.scroll.chart.right=t+s,this.state.options.scroll.chart.percent=t/this.state.options.times.totalViewDurationPx*100,this.state.options.scroll.chart.top=e,this.state.options.scroll.chart.time=this.pixelOffsetXToTime(t),this.state.options.scroll.chart.timeCenter=this.pixelOffsetXToTime(t+s/2),this.state.options.scroll.chart.dateTime.left=o()(this.state.options.scroll.chart.time).valueOf(),this.state.options.scroll.chart.dateTime.right=o()(this.pixelOffsetXToTime(t+this.state.refs.chart.clientWidth)).valueOf(),this.scrollTo(t,e)},scrollToTime(t){let e=this.timeToPixelOffsetX(t);const s=this.state.refs.chartContainer.clientWidth;e-=s/2,e>this.state.options.width&&(e=this.state.options.width-s),this.scrollTo(e)},scrollTo(t=null,e=null){null!==t&&(this.state.refs.chartCalendarContainer.scrollLeft=t,this.state.refs.chartGraphContainer.scrollLeft=t,this.state.refs.chartScrollContainerHorizontal.scrollLeft=t,this.state.options.scroll.left=t),null!==e&&(this.state.refs.chartScrollContainerVertical.scrollTop=e,this.state.refs.chartGraph.scrollTop=e,this.state.refs.taskListItems.scrollTop=e,this.state.options.scroll.top=e,this.syncScrollTop())},fixScrollPos(){this.scrollToTime(this.state.options.scroll.chart.timeCenter)},onWheelChart(t){if(t.shiftKey||0!==t.deltaX)if(t.shiftKey&&0===t.deltaX){let e=this.state.options.scroll.left+t.deltaY;const s=this.state.refs.chartScrollContainerHorizontal.clientWidth,i=this.state.refs.chartScrollContainerHorizontal.scrollWidth-s;e<0?e=0:e>i&&(e=i),this.scrollTo(e)}else{let e=this.state.options.scroll.left+t.deltaX;const s=this.state.refs.chartScrollContainerHorizontal.clientWidth,i=this.state.refs.chartScrollContainerHorizontal.scrollWidth-s;e<0?e=0:e>i&&(e=i),this.scrollTo(e)}else{let e=this.state.options.scroll.top+t.deltaY;const s=this.state.options.rowsHeight,i=this.state.refs.chartGraph.scrollHeight-s;e<0?e=0:e>i&&(e=i),this.scrollTo(null,e)}},onTimeZoomChange(t){this.state.options.times.timeZoom=t,this.recalculateTimes(),this.calculateSteps(),this.fixScrollPos()},getTimeZoom(){return this.state.options.times.timeZoom},onKeyDown(t){"Control"===t.key&&(this.controlLongPress=!0)},onKeyUp(t){"Control"===t.key&&(this.controlLongPress=!1)},onMousewheel(t){if(this.controlLongPress){const{wheelDelta:e}=t,s=e>0?-1:1;let i=this.getTimeZoom()+1*s;if(i<=0)return void(i=1);i>=21&&(i=21),this.onTimeZoomChange(i)}},onRowHeightChange(t){this.state.options.row.height=t,this.calculateTaskListColumnsDimensions(),this.syncScrollTop()},onScopeChange(t){this.state.options.scope.before=t,this.state.options.scope.after=t,this.initTimes(),this.calculateSteps(),this.computeCalendarWidths(),this.fixScrollPos()},onTaskListWidthChange(t){this.state.options.taskList.percent=t,this.calculateTaskListColumnsDimensions(),this.fixScrollPos()},onTaskListColumnWidthChange(){this.calculateTaskListColumnsDimensions(),this.fixScrollPos()},initializeEvents(){this.$on("chart-scroll-horizontal",this.onScrollChart),this.$on("chart-scroll-vertical",this.onScrollChart),this.$on("chart-wheel",this.onWheelChart),this.$on("times-timeZoom-change",this.onTimeZoomChange),this.$on("row-height-change",this.onRowHeightChange),this.$on("scope-change",this.onScopeChange),this.$on("taskList-width-change",this.onTaskListWidthChange),this.$on("taskList-column-width-change",this.onTaskListColumnWidthChange)},recalculateTimes(){let t=60*this.state.options.times.timeScale/this.state.options.times.timeScale,e=this.state.options.times.timeZoom/100;this.state.options.times.timePerPixel=this.state.options.times.timeScale*t*e+Math.pow(2,this.state.options.times.timeZoom),this.state.options.times.totalViewDurationMs=o()(this.state.options.times.lastTime).diff(this.state.options.times.firstTime,"milliseconds"),this.state.options.times.totalViewDurationPx=this.state.options.times.totalViewDurationMs/this.state.options.times.timePerPixel,this.state.options.width=this.state.options.times.totalViewDurationPx+this.style["grid-line-vertical"]["stroke-width"]},initTimes(){this.state.options.times.firstTime=o()(this.state.options.times.firstTaskTime).locale(this.state.options.locale.name).startOf("day").subtract(this.state.options.scope.before,"days").startOf("day").valueOf(),this.state.options.times.lastTime=o()(this.state.options.times.lastTaskTime).locale(this.state.options.locale.name).endOf("day").add(this.state.options.scope.after,"days").endOf("day").valueOf(),this.recalculateTimes()},calculateSteps(){const t=[],e=o()(this.state.options.times.lastTime).valueOf(),s=o()(this.state.options.times.firstTime);t.push({time:s.valueOf(),offset:{ms:0,px:0}});for(let s=o()(this.state.options.times.firstTime).add(1,this.state.options.times.stepDuration).startOf("day");s.valueOf()<=e;s=s.add(1,this.state.options.times.stepDuration).startOf("day")){const e=s.diff(this.state.options.times.firstTime,"milliseconds"),i=e/this.state.options.times.timePerPixel,o={time:s.valueOf(),offset:{ms:e,px:i}},r=t[t.length-1];r.width={ms:e-r.offset.ms,px:i-r.offset.px},t.push(o)}const i=t[t.length-1];i.width={ms:this.state.options.times.totalViewDurationMs-i.offset.ms,px:this.state.options.times.totalViewDurationPx-i.offset.px},this.state.options.times.steps=t},computeCalendarWidths(){this.computeDayWidths(),this.computeHourWidths(),this.computeMonthWidths()},computeHourWidths(){const t={...this.style["calendar-row-text"],...this.style["calendar-row-text--hour"]};this.state.ctx.font=t["font-size"]+" "+t["font-family"];const e=this.state.options.locale.name;let s=o()("2018-01-01T00:00:00").locale(e),i=this.state.options.calendar.hour.maxWidths;if(!i.length){for(let t in this.state.options.calendar.hour.format)i[t]=0;for(let t=0;t<24;t++){let e={hour:t};for(let t in this.state.options.calendar.hour.format){const i=this.state.options.calendar.hour.format[t](s);this.state.options.calendar.hour.formatted[t].push(i),e[t]=this.state.ctx.measureText(i).width}this.state.options.calendar.hour.widths.push(e);for(let t in this.state.options.calendar.hour.format)e[t]>i[t]&&(i[t]=e[t]);s=s.add(1,"hour")}}},computeDayWidths(){const t={...this.style["calendar-row-text"],...this.style["calendar-row-text--day"]};this.state.ctx.font=t["font-size"]+" "+t["font-family"];const e=this.state.options.locale.name;let s=o()(this.state.options.times.steps[0].time).locale(e),i=this.state.options.calendar.day.maxWidths;this.state.options.calendar.day.widths=[],Object.keys(this.state.options.calendar.day.format).forEach(t=>{i[t]=0});for(let t=0,e=this.state.options.times.steps.length;t<e;t++){const e={day:t};Object.keys(this.state.options.calendar.day.format).forEach(t=>{e[t]=this.state.ctx.measureText(this.state.options.calendar.day.format[t](s)).width}),this.state.options.calendar.day.widths.push(e),Object.keys(this.state.options.calendar.day.format).forEach(t=>{e[t]>i[t]&&(i[t]=e[t])}),s=s.add(1,"day")}},monthsCount(t,e){if(t>e)return 0;let s=o()(t),i=s.clone(),r=1;for(;s.valueOf()<=e;)s=s.add(1,"day"),i.month()!==s.month()&&r++,i=s.clone();return r},computeMonthWidths(){const t={...this.style["calendar-row-text"],...this.style["calendar-row-text--month"]};this.state.ctx.font=t["font-size"]+" "+t["font-family"];let e=this.state.options.calendar.month.maxWidths;this.state.options.calendar.month.widths=[],Object.keys(this.state.options.calendar.month.format).forEach(t=>{e[t]=0});const s=this.state.options.locale.name;let i=o()(this.state.options.times.firstTime).locale(s);const r=this.monthsCount(this.state.options.times.firstTime,this.state.options.times.lastTime);for(let t=0;t<r;t++){const s={month:t};Object.keys(this.state.options.calendar.month.format).forEach(t=>{s[t]=this.state.ctx.measureText(this.state.options.calendar.month.format[t](i)).width}),this.state.options.calendar.month.widths.push(s),Object.keys(this.state.options.calendar.month.format).forEach(t=>{s[t]>e[t]&&(e[t]=s[t])}),i=i.add(1,"month")}},prepareDates(){let t=Number.MAX_SAFE_INTEGER,e=0;for(let s=0,i=this.state.tasks.length;s<i;s++){let i=this.state.tasks[s];i.startTime<t&&(t=i.startTime),i.startTime+i.duration>e&&(e=i.startTime+i.duration)}this.state.options.times.firstTaskTime=t,this.state.options.times.lastTaskTime=e,this.state.options.times.firstTime=o()(t).locale(this.state.options.locale.name).startOf("day").subtract(this.state.options.scope.before,"days").startOf("day").valueOf(),this.state.options.times.lastTime=o()(e).locale(this.state.options.locale.name).endOf("day").add(this.state.options.scope.after,"days").endOf("day").valueOf()},setup(t=""){this.initialize(t),this.prepareDates(),this.initTimes(),this.calculateSteps(),this.computeCalendarWidths(),this.state.options.taskList.width=this.state.options.taskList.columns.reduce((t,e)=>({width:t.width+e.width}),{width:0}).width},globalOnResize(){if(void 0!==this.$el&&this.$el){if(this.state.options.clientWidth=this.$el.clientWidth,this.state.options.taskList.widthFromPercentage>this.state.options.clientWidth/100*this.state.options.taskList.widthThreshold){let t=100-(this.state.options.taskList.widthFromPercentage-this.state.options.clientWidth/100*this.state.options.taskList.widthThreshold)/this.state.options.taskList.widthFromPercentage*100;t<0&&(t=0),this.state.options.taskList.columns.forEach(e=>{e.thresholdPercent=t})}else this.state.options.taskList.columns.forEach(t=>{t.thresholdPercent=100});this.calculateTaskListColumnsDimensions(),this.$emit("calendar-recalculate"),this.syncScrollTop()}}},computed:{visibleTasks(){const t=this.state.tasks.filter(t=>this.isTaskVisible(t)),e=t.slice(0,this.state.options.maxRows);this.state.options.rowsHeight=this.getTasksHeight(e);let s=0;this.state.options.maxHeight&&this.state.options.rowsHeight>this.state.options.maxHeight&&(s=this.state.options.rowsHeight-this.state.options.maxHeight,this.state.options.rowsHeight=this.state.options.maxHeight),this.state.options.height=this.getHeight(e)-s,this.state.options.allVisibleTasksHeight=this.getTasksHeight(t),this.state.options.outerHeight=this.getHeight(e,!0)-s;let i=t.length;for(let e=0;e<i;e++){let s=t[e];s.width=s.duration/this.state.options.times.timePerPixel-this.style["grid-line-vertical"]["stroke-width"],s.width<0&&(s.width=0),s.height=this.state.options.row.height,s.x=this.timeToPixelOffsetX(s.startTime),s.y=(this.state.options.row.height+2*this.state.options.chart.grid.horizontal.gap)*e+this.state.options.chart.grid.horizontal.gap}return t},style(){return this.state.dynamicStyle},getTaskListColumns(){return this.calculateTaskListColumnsDimensions(),this.state.options.taskList.columns},outputTasks(){return this.state.tasks},outputOptions(){return this.state.options}},created(){this.initializeEvents(),this.setup(),this.state.unwatchTasks=this.$watch("tasks",t=>{A(t,this.outputTasks)&&this.setup("tasks")},{deep:!0}),this.state.unwatchOptions=this.$watch("options",t=>{A(t,this.outputOptions)&&this.setup("options")},{deep:!0}),this.state.unwatchStyle=this.$watch("dynamicStyle",t=>{A(t,this.dynamicStyle)&&this.initializeStyle()},{deep:!0,immediate:!0}),this.state.unwatchOutputTasks=this.$watch("outputTasks",t=>{this.$emit("tasks-changed",t.map(t=>t))},{deep:!0}),this.state.unwatchOutputOptions=this.$watch("outputOptions",t=>{this.$emit("options-changed",I({},t))},{deep:!0}),this.state.unwatchOutputStyle=this.$watch("style",t=>{this.$emit("dynamic-style-changed",I({},t))},{deep:!0}),this.$root.$emit("gantt-elastic-created",this),this.$emit("created",this)},beforeMount(){this.$emit("before-mount",this)},mounted(){this.state.options.clientWidth=this.$el.clientWidth,this.state.resizeObserver=new H.default((t,e)=>{this.globalOnResize()}),this.state.parentNode=this.$el.parentNode,this.state.resizeObserver.observe(this.$el.parentNode),this.globalOnResize(),this.$emit("ready",this),this.$root.$emit("gantt-elastic-mounted",this),this.$emit("mounted",this),this.$root.$emit("gantt-elastic-ready",this)},beforeUpdate(){this.$emit("before-update")},updated(){this.$nextTick(()=>{this.$emit("updated")})},beforeDestroy(){this.state.resizeObserver.unobserve(this.state.parentNode),this.state.unwatchTasks(),this.state.unwatchOptions(),this.state.unwatchStyle(),this.state.unwatchOutputTasks(),this.state.unwatchOutputOptions(),this.state.unwatchOutputStyle(),this.$emit("before-destroy")},destroyed(){this.$emit("destroyed")}},V=(s(414),Object(n.a)(F,(function(){var t=this._self._c;this._self._setupProxy;return t("div",{staticClass:"gantt-elastic",staticStyle:{width:"100%"},attrs:{tabindex:"-1"},on:{keydown:this.onKeyDown,keyup:this.onKeyUp,mousewheel:this.onMousewheel}},[this._t("header"),this._v(" "),t("main-view",{ref:"mainView"}),this._v(" "),this._t("footer")],2)}),[],!1,null,null,null).exports),X=s(410);function B(t){const e=new Date,s=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),r=new Date(`${s}-${i}-${o} 00:00:00`).getTime();return new Date(r+60*t*60*1e3).getTime()}o.a.extend(X);var N={name:"GanttElasticStandalone",components:{"gantt-elastic":V},props:["header","footer"],data:()=>({dialogFormVisible:!1,form:{id:"",label:"",user:"",progress:"",timeArr:[]},rules:{label:[{required:!0,message:"不能为空",trigger:["blur","change"]}],user:[{required:!0,message:"不能为空",trigger:["blur","change"]}],progress:[{required:!0,message:"不能为空",trigger:["blur","change"]}],timeArr:[{required:!0,message:"不能为空",trigger:["blur","change"]}]},lastId:16,localScale:0,components:{},tasks:[{id:1,label:"Make some noise",user:'<a href="https://www.google.com/search?q=John+Doe" target="_blank" style="color:#0077c0;">John Doe</a>',start:B(-120),duration:1296e6,percent:85,type:"project"},{id:2,label:"With great power comes great responsibility",user:'<a href="https://www.google.com/search?q=Peter+Parker" target="_blank" style="color:#0077c0;">Peter Parker</a>',parentId:1,start:B(-96),duration:3456e5,percent:50,type:"milestone",collapsed:!0,style:{base:{fill:"#1EBC61",stroke:"#0EAC51"}}},{id:3,label:"Courage is being scared to death, but saddling up anyway.",user:'<a href="https://www.google.com/search?q=John+Wayne" target="_blank" style="color:#0077c0;">John Wayne</a>',parentId:2,start:B(-72),duration:1728e5,percent:100,type:"task"},{id:4,label:"Put that toy AWAY!",user:'<a href="https://www.google.com/search?q=Clark+Kent" target="_blank" style="color:#0077c0;">Clark Kent</a>',start:B(-48),duration:1728e5,percent:50,type:"task"},{id:5,label:"One billion, gajillion, fafillion... shabadylu...mil...shabady......uh, Yen.",user:'<a href="https://www.google.com/search?q=Austin+Powers" target="_blank" style="color:#0077c0;">Austin Powers</a>',parentId:4,start:B(0),duration:1728e5,percent:10,type:"milestone",style:{base:{fill:"#0287D0",stroke:"#0077C0"}}},{id:6,label:"Butch Mario and the Luigi Kid",user:'<a href="https://www.google.com/search?q=Mario+Bros" target="_blank" style="color:#0077c0;">Mario Bros</a>',parentId:5,start:B(24),duration:864e5,percent:50,type:"task",collapsed:!0,style:{base:{fill:"#8E44AD",stroke:"#7E349D"}}},{id:7,label:"Devon, the old man wanted me, it was his dying request",user:'<a href="https://www.google.com/search?q=Knight+Rider" target="_blank" style="color:#0077c0;">Knight Rider</a>',parentId:2,dependentOn:[6],start:B(48),duration:144e5,percent:20,type:"task",collapsed:!0},{id:8,label:"Hey, Baby! Anybody ever tell you I have beautiful eyes?",user:'<a href="https://www.google.com/search?q=Johhny+Bravo" target="_blank" style="color:#0077c0;">Johhny Bravo</a>',parentId:7,dependentOn:[7],start:o()().startOf("day").valueOf(),end:o()().startOf("day").add(1,"day").valueOf(),percent:0,type:"task"},{id:9,label:"This better be important, woman. You are interrupting my very delicate calculations.",user:'<a href="https://www.google.com/search?q=Dexter\'s+Laboratory" target="_blank" style="color:#0077c0;">Dexter\'s Laboratory</a>',parentId:8,dependentOn:[8,7],start:B(96),duration:144e5,percent:20,type:"task",style:{base:{fill:"#8E44AD",stroke:"#7E349D"}}},{id:10,label:"current task",user:'<a href="https://www.google.com/search?q=Johnattan+Owens" target="_blank" style="color:#0077c0;">Johnattan Owens</a>',start:B(120),duration:864e5,percent:0,type:"task"},{id:11,label:"test task",user:'<a href="https://www.google.com/search?q=Johnattan+Owens" target="_blank" style="color:#0077c0;">Johnattan Owens</a>',start:B(144),duration:864e5,percent:0,type:"task"},{id:12,label:"test task",user:'<a href="https://www.google.com/search?q=Johnattan+Owens" target="_blank" style="color:#0077c0;">Johnattan Owens</a>',start:B(168),duration:864e5,percent:0,type:"task",parentId:11},{id:13,label:"test task",user:'<a href="https://www.google.com/search?q=Johnattan+Owens" target="_blank" style="color:#0077c0;">Johnattan Owens</a>',start:B(192),duration:864e5,percent:0,type:"task"},{id:14,label:"test task",user:'<a href="https://www.google.com/search?q=Johnattan+Owens" target="_blank" style="color:#0077c0;">Johnattan Owens</a>',start:B(216),end:B(288),percent:0,type:"task"},{id:15,label:"test task",user:'<a href="https://www.google.com/search?q=Johnattan+Owens" target="_blank" style="color:#0077c0;">Johnattan Owens</a>',start:B(384),duration:864e5,percent:0,type:"task"}],options:{taskMapping:{progress:"percent"},title:{label:"Your project title as html (link or whatever...)",html:!1},row:{height:24},calendar:{},chart:{progress:{bar:!1},expander:{display:!0}},taskList:{display:!0,expander:{straight:!1},columns:[{id:1,label:"ID",value:"id",width:40},{id:2,label:"描述",value:"label",width:200,expander:!0,slot:"label",events:{click({data:t,column:e}){alert("description clicked!\n"+t.label)}}},{id:3,label:"用户",value:"user",width:130,html:!0},{id:3,label:"开始时间",value:t=>o()(t.startTime).format("YYYY-MM-DD"),width:90,style:{"task-list-header-label":{"text-align":"center",width:"100%"},"task-list-item-value-container":{"text-align":"center",width:"100%"}}},{id:7,label:"结束时间",value:t=>o()(t.endTime).format("YYYY-MM-DD"),width:90,style:{"task-list-header-label":{"text-align":"center",width:"100%"},"task-list-item-value-container":{"text-align":"center",width:"100%"}}},{id:8,label:"天数",value:t=>o.a.duration(t.duration).days(),width:50,style:{"task-list-header-label":{"text-align":"center",width:"100%"},"task-list-item-value-container":{"text-align":"center",width:"100%"}}},{id:4,label:"类型",value:"type",width:80,style:{"task-list-header-label":{"text-align":"center",width:"100%"},"task-list-item-value-container":{"text-align":"center",width:"100%"}}},{id:5,label:"%",value:"progress",width:70,html:!0,style:{"task-list-header-label":{"text-align":"center",width:"100%"},"task-list-item-value-container":{"text-align":"center",width:"100%"}}},{id:6,label:"操作",value:"operation",slot:"operation",width:160,style:{"task-list-header-label":{"text-align":"center",width:"100%"},"task-list-item-value-container":{"text-align":"center",width:"100%"}}}]}},dynamicStyle:{}}),computed:{modeRadio:{get(){return this.options.taskList.display},set(t){console.log(t),this.options.taskList.display=t}},height:{get(){return this.options.row.height},set(t){this.$refs.elastic.$emit("row-height-change",Number(t))}},scale:{get(){return this.localScale},set(t){const e=this.$refs.elastic;this.localScale=Number(t),e.onTimeZoomChange(Number(t))}}},mounted(){const t=this.$refs.elastic;this.localScale=t.getTimeZoom()},methods:{onUpdate(t){console.log(t),Object.keys(this.form).forEach(e=>{this.form[e]="timeArr"===e?[t.task.startTime,t.task.endTime]:t.task[e]}),this.dialogFormVisible=!0},onDel(t){console.log(t);const{task:e}=t,s=[e.id,...e.allChildren];this.$confirm(`确认删除以下任务[${s.toString()}]为吗?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.tasks=this.tasks.filter(e=>e.id!==t.task.id),console.log(this.tasks),this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},onSubmit(){const t=this.$refs.elastic;this.$refs.form.validate(e=>{if(!e)return console.log("error submit!!"),!1;{const e=this.form.timeArr;t.updateTask(this.form.id,this.form),t.updateTaskTime(this.form.id,e[0],e[1]),this.dialogFormVisible=!1,console.log(this.tasks)}})},goNow(t){this.$refs.elastic.goCurrentTime()},addTask(){this.tasks.push({id:this.lastId++,label:"Yeaahh! you have added a task bro!",user:'<a href="https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940" target="_blank" style="color:#0077c0;">Awesome!</a>',start:B(72),duration:864e5,percent:50,type:"project"})},addChildrenTask(){this.$prompt("请输入父节点ID","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\+?[1-9]\d*$/,inputErrorMessage:"请输入数字"}).then(({value:t})=>{const e=Number(t);this.tasks.some(t=>t.id===e)?this.tasks.push({id:this.lastId++,parentId:Number(t),label:"Yeaahh! you have added a children task bro!",user:'<a href="https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940" target="_blank" style="color:#0077c0;">Awesome!</a>',start:B(72),duration:864e5,percent:50,type:"project"}):this.$message.warning("没有找到ID为"+e+"的父节点")}).catch(()=>{})}}},J=Object(n.a)(N,(function(){var t=this,e=t._self._c;return e("div",[e("gantt-elastic",{ref:"elastic",attrs:{tasks:t.tasks,options:t.options,dynamicStyle:t.dynamicStyle},scopedSlots:t._u([{key:"label",fn:function({task:s}){return[e("div",[t._v(t._s(s.label))])]}},{key:"operation",fn:function(s){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.onUpdate(s)}}},[t._v("修改")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.onDel(s)}}},[t._v("删除")])]}}])},[e("div",{attrs:{slot:"header"},slot:"header"},[e("el-form",{attrs:{size:"mini",inline:""}},[e("el-form-item",{attrs:{label:"显示模式:"}},[e("el-radio-group",{model:{value:t.modeRadio,callback:function(e){t.modeRadio=e},expression:"modeRadio"}},[e("el-radio",{attrs:{label:!1}},[t._v("图表")]),t._v(" "),e("el-radio",{attrs:{label:!0}},[t._v("列表 + 图表")])],1)],1),t._v(" "),e("el-form-item",[e("el-button",{on:{click:t.goNow}},[t._v("Go Now")])],1),t._v(" "),e("el-form-item",{attrs:{label:"zoom-Y"}},[e("el-slider",{staticStyle:{width:"200px"},attrs:{min:7,max:100},model:{value:t.height,callback:function(e){t.height=e},expression:"height"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"zoom-X"}},[e("el-slider",{staticStyle:{width:"200px"},attrs:{min:2,max:24},model:{value:t.scale,callback:function(e){t.scale=e},expression:"scale"}}),t._v(" "),e("span",[t._v("快捷方式：将鼠标置于右侧图表上，按住 ctrl + 鼠标滚轮，进行缩放")])],1)],1)],1),t._v(" "),t.components.footer?e(t.components.footer,{tag:"component",attrs:{slot:"footer"},slot:"footer"}):t._e()],1),t._v(" "),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-button",{on:{click:t.addTask}},[t._v("Add task")]),t._v(" "),e("el-button",{on:{click:t.addChildrenTask}},[t._v("Add children task")])],1),t._v(" "),e("el-dialog",{attrs:{title:"修改",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"Description",prop:"label"}},[e("el-input",{attrs:{placeholder:"Description"},model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"Assigned to",prop:"user"}},[e("el-input",{attrs:{placeholder:"Assigned to"},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"Start",prop:"timeArr"}},[e("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.form.timeArr,callback:function(e){t.$set(t.form,"timeArr",e)},expression:"form.timeArr"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"progress",prop:"progress"}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,max:100,placeholder:"progress"},model:{value:t.form.progress,callback:function(e){t.$set(t.form,"progress",e)},expression:"form.progress"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)}),[],!1,null,null,null);e.default=J.exports}}]);